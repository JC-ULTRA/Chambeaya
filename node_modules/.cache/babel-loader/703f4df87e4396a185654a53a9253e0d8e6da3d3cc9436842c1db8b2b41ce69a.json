{"ast":null,"code":"import { createStore } from 'vuex';\nimport createPersistedState from \"vuex-persistedstate\";\nimport axios from 'axios';\nconst store = createStore({\n  state: {\n    toggleFooter: true,\n    toggleHeader: true,\n    toggleSidebar: true,\n    destination: '/',\n    nombreCompleto: '',\n    userData: {\n      idUser: 0,\n      nick: 'cyz',\n      email: '',\n      role: '',\n      lastSuccesfullAccess: '',\n      jwt: '',\n      //  jwt='' => signed: false,\n      usuarioDetalle: null,\n      jwt2: 'goose'\n    },\n    errorMsg: '',\n    images: [] // nuevo estado para almacenar las imágenes del usuario\n  },\n\n  getters: {\n    getJwt2(state) {\n      return state.userData.jwt2;\n    },\n    getjwt2(state) {\n      return state.userData.jwt2;\n    },\n    getImages(state) {\n      // nuevo getter para acceder a las imágenes\n      return state.images;\n    }\n  },\n  mutations: {\n    setJwt2(state, jwt2) {\n      state.userData.jwt2 = jwt2;\n    },\n    setUserData(state, data) {\n      state.userData = data;\n      state.userData.role = data.role != undefined ? data.role.toLowerCase() : '';\n      /*state.userData.idUser = data.idUser;\n      state.userData.nick = data.nick;\n      state.userData.email = data.email;\n      state.userData.role = data.role;\n      state.userData.lastSuccesfullAccess = data.lastSuccesfullAccess;\n      state.userData.jwt = data.jwt;\n      state.userData.usuarioDetalle = data.usuarioDetalle;*/\n    },\n\n    setDestination(state, destination) {\n      state.destination = destination;\n    },\n    setNombreCompleto(state, nombreCompleto) {\n      state.nombreCompleto = nombreCompleto;\n    },\n    setImages(state, images) {\n      // nuevo setter para actualizar las imágenes\n      state.images = images;\n    },\n    removeImage(state, id) {\n      // nuevo setter para eliminar una imagen\n      state.images = state.images.filter(img => img.id !== id);\n    }\n  },\n  plugins: [createPersistedState()]\n});\n\n// Obtener todas las imágenes del usuario al inicio\nstore.dispatch('getUserImages');\nexport default store;","map":{"version":3,"names":["createStore","createPersistedState","axios","store","state","toggleFooter","toggleHeader","toggleSidebar","destination","nombreCompleto","userData","idUser","nick","email","role","lastSuccesfullAccess","jwt","usuarioDetalle","jwt2","errorMsg","images","getters","getJwt2","getjwt2","getImages","mutations","setJwt2","setUserData","data","undefined","toLowerCase","setDestination","setNombreCompleto","setImages","removeImage","id","filter","img","plugins","dispatch"],"sources":["/home/ubuntu/development/code/practica-vue/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport createPersistedState from \"vuex-persistedstate\"\nimport axios from 'axios'\n\nconst store = createStore({\n  state: {\n    toggleFooter: true,\n    toggleHeader: true,\n    toggleSidebar: true,\n    destination: '/',\n    nombreCompleto: '',\n    userData: {\n        idUser: 0,\n        nick: 'cyz',\n        email: '',\n        role: '',\n        lastSuccesfullAccess: '',\n        jwt: '', //  jwt='' => signed: false,\n        usuarioDetalle: null,\n        jwt2: 'goose'\n    },\n    errorMsg: '',\n    images: [] // nuevo estado para almacenar las imágenes del usuario\n  },\n  getters: {\n    getJwt2 (state) {\n      return state.userData.jwt2\n    },    \n    getjwt2(state){\n      return state.userData.jwt2\n    },\n    getImages(state) { // nuevo getter para acceder a las imágenes\n      return state.images\n    }\n  },\n  mutations: {\n    setJwt2(state, jwt2) {\n      state.userData.jwt2 = jwt2;\n    },\n    setUserData(state, data) {        \n        state.userData = data;\n        state.userData.role =  data.role != undefined ? data.role.toLowerCase():'';        \n        /*state.userData.idUser = data.idUser;\n        state.userData.nick = data.nick;\n        state.userData.email = data.email;\n        state.userData.role = data.role;\n        state.userData.lastSuccesfullAccess = data.lastSuccesfullAccess;\n        state.userData.jwt = data.jwt;\n        state.userData.usuarioDetalle = data.usuarioDetalle;*/\n    },\n    setDestination(state, destination) {\n        state.destination = destination;\n    },\n    setNombreCompleto(state, nombreCompleto) {\n        state.nombreCompleto = nombreCompleto;\n    },\n    setImages(state, images) { // nuevo setter para actualizar las imágenes\n      state.images = images\n    },\n    removeImage(state, id) { // nuevo setter para eliminar una imagen\n      state.images = state.images.filter(img => img.id !== id)\n    }\n  },\n  plugins: [createPersistedState()]\n})\n\n// Obtener todas las imágenes del usuario al inicio\nstore.dispatch('getUserImages')\n\nexport default store;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,oBAAoB,MAAM,qBAAqB;AACtD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,KAAK,GAAGH,WAAW,CAAC;EACxBI,KAAK,EAAE;IACLC,YAAY,EAAE,IAAI;IAClBC,YAAY,EAAE,IAAI;IAClBC,aAAa,EAAE,IAAI;IACnBC,WAAW,EAAE,GAAG;IAChBC,cAAc,EAAE,EAAE;IAClBC,QAAQ,EAAE;MACNC,MAAM,EAAE,CAAC;MACTC,IAAI,EAAE,KAAK;MACXC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,EAAE;MACRC,oBAAoB,EAAE,EAAE;MACxBC,GAAG,EAAE,EAAE;MAAE;MACTC,cAAc,EAAE,IAAI;MACpBC,IAAI,EAAE;IACV,CAAC;IACDC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,EAAE,CAAC;EACb,CAAC;;EACDC,OAAO,EAAE;IACPC,OAAOA,CAAElB,KAAK,EAAE;MACd,OAAOA,KAAK,CAACM,QAAQ,CAACQ,IAAI;IAC5B,CAAC;IACDK,OAAOA,CAACnB,KAAK,EAAC;MACZ,OAAOA,KAAK,CAACM,QAAQ,CAACQ,IAAI;IAC5B,CAAC;IACDM,SAASA,CAACpB,KAAK,EAAE;MAAE;MACjB,OAAOA,KAAK,CAACgB,MAAM;IACrB;EACF,CAAC;EACDK,SAAS,EAAE;IACTC,OAAOA,CAACtB,KAAK,EAAEc,IAAI,EAAE;MACnBd,KAAK,CAACM,QAAQ,CAACQ,IAAI,GAAGA,IAAI;IAC5B,CAAC;IACDS,WAAWA,CAACvB,KAAK,EAAEwB,IAAI,EAAE;MACrBxB,KAAK,CAACM,QAAQ,GAAGkB,IAAI;MACrBxB,KAAK,CAACM,QAAQ,CAACI,IAAI,GAAIc,IAAI,CAACd,IAAI,IAAIe,SAAS,GAAGD,IAAI,CAACd,IAAI,CAACgB,WAAW,EAAE,GAAC,EAAE;MAC1E;AACR;AACA;AACA;AACA;AACA;AACA;IACI,CAAC;;IACDC,cAAcA,CAAC3B,KAAK,EAAEI,WAAW,EAAE;MAC/BJ,KAAK,CAACI,WAAW,GAAGA,WAAW;IACnC,CAAC;IACDwB,iBAAiBA,CAAC5B,KAAK,EAAEK,cAAc,EAAE;MACrCL,KAAK,CAACK,cAAc,GAAGA,cAAc;IACzC,CAAC;IACDwB,SAASA,CAAC7B,KAAK,EAAEgB,MAAM,EAAE;MAAE;MACzBhB,KAAK,CAACgB,MAAM,GAAGA,MAAM;IACvB,CAAC;IACDc,WAAWA,CAAC9B,KAAK,EAAE+B,EAAE,EAAE;MAAE;MACvB/B,KAAK,CAACgB,MAAM,GAAGhB,KAAK,CAACgB,MAAM,CAACgB,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACF,EAAE,KAAKA,EAAE,CAAC;IAC1D;EACF,CAAC;EACDG,OAAO,EAAE,CAACrC,oBAAoB,EAAE;AAClC,CAAC,CAAC;;AAEF;AACAE,KAAK,CAACoC,QAAQ,CAAC,eAAe,CAAC;AAE/B,eAAepC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}