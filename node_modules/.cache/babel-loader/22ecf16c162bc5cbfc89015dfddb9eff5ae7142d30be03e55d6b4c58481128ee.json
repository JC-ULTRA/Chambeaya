{"ast":null,"code":"import axios from 'axios';\nimport store from '@/store';\nexport default {\n  data() {\n    return {\n      token: '',\n      msg: '',\n      destino: '',\n      pass: ''\n    };\n  },\n  methods: {\n    processErrorResponse: function (error) {\n      if (error.exceptionTypeNumber == 1016) {\n        var result = '';\n        for (var i = 0; i < error.strengthViolations.length; i++) {\n          result += error.strengthViolations[i].message + ' \\n ';\n        }\n        return result;\n      } else {\n        return error.exceptionShortDescription;\n      }\n    },\n    enviar: function () {\n      axios.post(\"https://access.qbits.mx/api/forgot-password-update\", {\n        token: this.token,\n        pass: this.pass\n      }).then(response => {\n        response;\n        store.commit('setDestination', '/ui/results');\n        this.msg = 'Felicidades. Tu clave ha sido cambiada exitosamente.';\n        this.destino = '/ui/login';\n        this.$refs.avisoWindow.openModal();\n      }).catch(error => {\n        error;\n        this.msg = this.processErrorResponse(error.response.data);\n        this.destino = '';\n        this.$refs.avisoWindow.openModal();\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","store","data","token","msg","destino","pass","methods","processErrorResponse","error","exceptionTypeNumber","result","i","strengthViolations","length","message","exceptionShortDescription","enviar","post","then","response","commit","$refs","avisoWindow","openModal","catch"],"sources":["/home/ubuntu/development/code/Proyecto Chambeaya/src/views/ForgotConfirmView.vue"],"sourcesContent":["<template>\n    <div class=\"content\">\n        \n        <div class=\"card ancho\">\n            <div class=\"card-header\">\n                <h1>Confirmación de recuperación</h1>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col\">\n                        Para reestablecer tu clave, captura el token eniado a tu correo y un nuevo password\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col\">\n                        Token\n                    </div>\n                    <div class=\"col\">\n                        <input type=\"text\" v-model=\"token\" />\n                    </div>                    \n                </div>    \n                <br/>  \n                <div class=\"row\">\n                    <div class=\"col\">\n                        Password\n                    </div>\n                    <div class=\"col\">\n                        <input type=\"password\" v-model=\"pass\" />\n                    </div>                    \n                </div>                            \n            </div>\n            <div class=\"card-footer\">\n                <div class=\"d-flex justify-content-between\">\n                    <button class=\"btn btn-success\" @click=\"enviar\">Enviar</button>\n                    <a class=\"btn btn-warning\" href=\"/ui/login\">Cancelar e ir a login</a>\n                </div>\n            </div>\n        </div>\n\n        <AvisoWindow \n            ref=\"avisoWindow\"\n            avisoTitulo=\"Comprobación del token\" \n            :avisoMsg=msg\n            :target=destino  />\n\n        <FooterComponent class=\"down\" />\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport store from '@/store'\n\nexport default {\n    data() {\n        return {\n            token:'',\n            msg:'',\n            destino:'',\n            pass:''\n        }\n    }, \n    methods: {\n        processErrorResponse: function(error) {\n            if(error.exceptionTypeNumber==1016) {\n                var result = ''\n                for (var i = 0; i < error.strengthViolations.length; i++) {\n                    result += error.strengthViolations[i].message + ' \\n '\n                }\n                return result;\n            } else {\n                return error.exceptionShortDescription\n            }\n        },\n        enviar: function() {\n            axios.post(\"https://access.qbits.mx/api/forgot-password-update\", {\n                token: this.token,\n                pass: this.pass\n            })\n            .then(response => {\n                response;\n                store.commit('setDestination', '/ui/results')\n                this.msg = 'Felicidades. Tu clave ha sido cambiada exitosamente.'\n                this.destino = '/ui/login'\n                this.$refs.avisoWindow.openModal()\n            })\n            .catch( error => {\n                error;\n                this.msg = this.processErrorResponse(error.response.data)\n                this.destino = ''\n                this.$refs.avisoWindow.openModal()\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n.ancho {\n    max-width: 600px;\n    margin: auto;\n    margin-top: 100px;\n}\n</style>\n"],"mappings":"AAkDA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,KAAI,MAAO,SAAQ;AAE1B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAC,EAAE;MACRC,GAAG,EAAC,EAAE;MACNC,OAAO,EAAC,EAAE;MACVC,IAAI,EAAC;IACT;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,oBAAoB,EAAE,SAAAA,CAASC,KAAK,EAAE;MAClC,IAAGA,KAAK,CAACC,mBAAmB,IAAE,IAAI,EAAE;QAChC,IAAIC,MAAK,GAAI,EAAC;QACd,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIH,KAAK,CAACI,kBAAkB,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;UACtDD,MAAK,IAAKF,KAAK,CAACI,kBAAkB,CAACD,CAAC,CAAC,CAACG,OAAM,GAAI,MAAK;QACzD;QACA,OAAOJ,MAAM;MACjB,OAAO;QACH,OAAOF,KAAK,CAACO,yBAAwB;MACzC;IACJ,CAAC;IACDC,MAAM,EAAE,SAAAA,CAAA,EAAW;MACfjB,KAAK,CAACkB,IAAI,CAAC,oDAAoD,EAAE;QAC7Df,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBG,IAAI,EAAE,IAAI,CAACA;MACf,CAAC,EACAa,IAAI,CAACC,QAAO,IAAK;QACdA,QAAQ;QACRnB,KAAK,CAACoB,MAAM,CAAC,gBAAgB,EAAE,aAAa;QAC5C,IAAI,CAACjB,GAAE,GAAI,sDAAqD;QAChE,IAAI,CAACC,OAAM,GAAI,WAAU;QACzB,IAAI,CAACiB,KAAK,CAACC,WAAW,CAACC,SAAS,EAAC;MACrC,CAAC,EACAC,KAAK,CAAEhB,KAAI,IAAK;QACbA,KAAK;QACL,IAAI,CAACL,GAAE,GAAI,IAAI,CAACI,oBAAoB,CAACC,KAAK,CAACW,QAAQ,CAAClB,IAAI;QACxD,IAAI,CAACG,OAAM,GAAI,EAAC;QAChB,IAAI,CAACiB,KAAK,CAACC,WAAW,CAACC,SAAS,EAAC;MACrC,CAAC;IACL;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}