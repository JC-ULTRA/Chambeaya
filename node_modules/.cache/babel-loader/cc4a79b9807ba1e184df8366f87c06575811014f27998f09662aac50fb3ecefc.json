{"ast":null,"code":"import axios from \"axios\";\nimport Footer2Component from \"@/components/Footer2Component.vue\";\nimport store from \"@/store\";\nexport default {\n  components: {\n    Footer2Component\n  },\n  data() {\n    return {\n      imagenes: []\n    };\n  },\n  mounted() {\n    this.obtenerImagenes();\n  },\n  methods: {\n    obtenerImagenes() {\n      axios.get(\"https://upload.qbits.mx/api/up/get-user-all-images/51\").then(response => {\n        this.imagenes = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getImagenUrl(fullHttpUploadUrl) {\n      return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n    },\n    eliminarImagen(idImagen) {\n      // Obtenemos el token JWT del estado de Vuex\n      const tokenJWT = this.$store.state.userData.jwt;\n\n      // Creamos la URL de la API que borra la imagen\n      const url = `https://upload.qbits.mx/api/up/delete-media/${idImagen}`;\n\n      // Enviamos la solicitud de eliminación al servidor\n      axios.delete(url, {\n        headers: {\n          Authorization: `Bearer ${tokenJWT}`\n        }\n      }).then(response => {\n        console.log(response.data);\n        console.log(\"Imagen eliminada exitosamente\");\n      }).catch(error => {\n        console.log(\"Error al eliminar la imagen\", error);\n      });\n    },\n    loggear() {\n      const url = \"https://access.qbits.mx/api/login\";\n      axios.post(url, {\n        cred: \"Zonik011#\",\n        hash: 0,\n        user: \"remep28446@mitigado.com\"\n      }, {\n        headers: {\n          'accept': 'application/json;charset=utf-8',\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        store.commit('setUserData', response.data);\n        console.log(store.state.userData.idUser);\n        console.log(store.state.userData.jwt);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Footer2Component","store","components","data","imagenes","mounted","obtenerImagenes","methods","get","then","response","catch","error","console","log","getImagenUrl","fullHttpUploadUrl","eliminarImagen","idImagen","tokenJWT","$store","state","userData","jwt","url","delete","headers","Authorization","loggear","post","cred","hash","user","commit","idUser"],"sources":["/home/ubuntu/development/code/practica-vue/src/views/EditImagesView.vue"],"sourcesContent":["<template>\n    <div>\n      <nav class=\"navbar navbar-dark bg-dark\">\n        <div class=\"container-fluid\">\n          <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\">\n            <span class=\"navbar-toggler-icon\"></span>\n          </button>\n        </div>\n      </nav>\n      <div class=\"fondo\">\n        <div class=\"pt-4\">\n          <h1>IMAGES</h1>\n        </div>\n        <div class=\"p-4\">\n          <div class=\"row gap-3\">\n            <div class=\"col col-auto px-0\" v-for=\"imagen in imagenes\" :key=\"imagen.id\">\n              <div class=\"card colorcard\">\n                <div class=\"position-relative\">\n                  <img class=\"card-img-top p-2 imagen\" :src=\"getImagenUrl(imagen.fullHttpUploadUrl)\" alt=\"Imagen\">\n                  <button class=\"btn btn-primary align-baseline d-inline\" v-on:click=\"loggear()\">\n                    Login <i class=\"bi bi-box-arrow-in-down\"></i>\n                  </button>\n                  <button class=\"btn btn-danger align-baseline d-inline\" v-on:click=\"eliminarImagen(imagen.id)\">\n                    Eliminar\n                  </button>\n                </div>\n                <div class=\"card-body\" style=\"text-align: center;\">\n                  <p class=\"card-title usuario\">User: {{ imagen.idUsuario }}</p>\n                  <p class=\"card-text name\">Name: {{ imagen.nombreOriginal }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer2Component />\n    </div>\n  </template>\n  \n  <script>\n  import axios from \"axios\";\n  import Footer2Component from \"@/components/Footer2Component.vue\";\n  import store from \"@/store\";\n  \n  export default {\n    components: {\n      Footer2Component,\n    },\n    data() {\n      return {\n        imagenes: [],\n      };\n    },\n    mounted() {\n      this.obtenerImagenes();\n    },\n    methods: {\n      obtenerImagenes() {\n        axios\n          .get(\"https://upload.qbits.mx/api/up/get-user-all-images/51\")\n          .then((response) => {\n            this.imagenes = response.data;\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      },\n      getImagenUrl(fullHttpUploadUrl) {\n        return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n      },\n      eliminarImagen(idImagen) {\n        // Obtenemos el token JWT del estado de Vuex\n        const tokenJWT = this.$store.state.userData.jwt;\n  \n        // Creamos la URL de la API que borra la imagen\n        const url = `https://upload.qbits.mx/api/up/delete-media/${idImagen}`;\n  \n        // Enviamos la solicitud de eliminación al servidor\n        axios\n          .delete(url, {\n            headers: {\n              Authorization: `Bearer ${tokenJWT}`,\n            },\n          })\n          .then((response) => {\n            console.log(response.data);\n            console.log(\"Imagen eliminada exitosamente\");\n          })\n          .catch((error) => {\n            console.log(\"Error al eliminar la imagen\", error);\n          });\n      },\n      loggear() {\n        const url = \"https://access.qbits.mx/api/login\";\n        axios\n          .post(\n            url,\n            {\n              cred: \"Zonik011#\",\n              hash: 0,\n              user: \"remep28446@mitigado.com\",\n            },\n            {\n              headers: {\n                    'accept': 'application/json;charset=utf-8',\n                    'Content-Type': 'application/json'\n                    }\n                }\n                )       \n                .then((response) => {\n                    store.commit('setUserData', response.data)\n                    console.log(store.state.userData.idUser)\n                    console.log(store.state.userData.jwt)\n                })\n}}}\n\n</script> \n\n<style>\n.fondo {\n    background: #288BA8;\n    padding: 20px;\n}\n\n.colorcard {\n    background: rgba(65, 65, 248, 0.164);\n}\n\n.boton {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    border-radius: 50%;\n    border: 2px solid red;\n    color: red;\n}\n\n.imagen {\n    border-radius: 20px;\n    border: none;\n    max-width: 200px;\n    max-height: 200px;\n    object-fit: cover;\n}\n\n.usuario {\n    color: blueviolet;\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    font-size: 12px;\n}\n\n.name {\n    color: black;\n    font-size: 12px;\n}\n</style>"],"mappings":"AAwCE,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,OAAOC,KAAI,MAAO,SAAS;AAE3B,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,EAAE;EACxB,CAAC;EACDC,OAAO,EAAE;IACPD,eAAeA,CAAA,EAAG;MAChBP,KAAI,CACDS,GAAG,CAAC,uDAAuD,EAC3DC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACN,QAAO,GAAIM,QAAQ,CAACP,IAAI;MAC/B,CAAC,EACAQ,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDG,YAAYA,CAACC,iBAAiB,EAAE;MAC9B,OAAQ,oCAAmCA,iBAAkB,EAAC;IAChE,CAAC;IACDC,cAAcA,CAACC,QAAQ,EAAE;MACvB;MACA,MAAMC,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ,CAACC,GAAG;;MAE/C;MACA,MAAMC,GAAE,GAAK,+CAA8CN,QAAS,EAAC;;MAErE;MACAnB,KAAI,CACD0B,MAAM,CAACD,GAAG,EAAE;QACXE,OAAO,EAAE;UACPC,aAAa,EAAG,UAASR,QAAS;QACpC;MACF,CAAC,EACAV,IAAI,CAAEC,QAAQ,IAAK;QAClBG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACP,IAAI,CAAC;QAC1BU,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;MAC9C,CAAC,EACAH,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,KAAK,CAAC;MACnD,CAAC,CAAC;IACN,CAAC;IACDgB,OAAOA,CAAA,EAAG;MACR,MAAMJ,GAAE,GAAI,mCAAmC;MAC/CzB,KAAI,CACD8B,IAAI,CACHL,GAAG,EACH;QACEM,IAAI,EAAE,WAAW;QACjBC,IAAI,EAAE,CAAC;QACPC,IAAI,EAAE;MACR,CAAC,EACD;QACEN,OAAO,EAAE;UACH,QAAQ,EAAE,gCAAgC;UAC1C,cAAc,EAAE;QAChB;MACJ,EACA,CACCjB,IAAI,CAAEC,QAAQ,IAAK;QAChBT,KAAK,CAACgC,MAAM,CAAC,aAAa,EAAEvB,QAAQ,CAACP,IAAI;QACzCU,OAAO,CAACC,GAAG,CAACb,KAAK,CAACoB,KAAK,CAACC,QAAQ,CAACY,MAAM;QACvCrB,OAAO,CAACC,GAAG,CAACb,KAAK,CAACoB,KAAK,CAACC,QAAQ,CAACC,GAAG;MACxC,CAAC;IACjB;EAAC;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}