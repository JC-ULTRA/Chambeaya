{"ast":null,"code":"import \"core-js/modules/esnext.typed-array.to-reversed.js\";\nimport \"core-js/modules/esnext.typed-array.to-sorted.js\";\nimport \"core-js/modules/esnext.typed-array.with.js\";\nimport def from \"@/assets/default.jpg\";\nimport VueCropper from \"vue-cropperjs\";\nimport \"cropperjs/dist/cropper.css\";\nexport default {\n  props: [\"aspRad\"],\n  components: {\n    VueCropper\n  },\n  data() {\n    return {\n      profilePicture: def,\n      imageBlob: def,\n      selectedFile: def,\n      fileName: \"\",\n      fileNameBlob: def,\n      fileSize: 0,\n      ancho: 366,\n      alto: 266,\n      muestra: false,\n      isImage: false\n    };\n  },\n  methods: {\n    invalid(file) {\n      let kb = 1024;\n      this.fileName = file.name;\n      this.fileSize = file.size;\n      if (file.size < 16 || file.size > 9000 * kb) {\n        const msg = \"Sorry, image too small or image too large. Size detected: \" + file.size + \" bytes\";\n        this.$emit(\"img-error\", msg);\n        return true;\n      }\n      //if(file.height<16 || file.height>8000*kb) return \"Image Height to big or image too small: \" + file.height\n      //if(file.width<16 || file.width>8000*kb) return \"Image Width to big or image too small: \" + file.width\n      this.detectMimeType(file);\n      if (!this.isImage) {\n        const msg = \"Sorry, this is not an image file :(\";\n        this.$emit(\"img-error\", msg);\n        return true;\n      }\n      return false;\n    },\n    /**\n     * Load the mime type based on the signature of the first bytes of the file\n     * @param  {File}   file        A instance of File\n     * @param  {Function} callback  Callback with the result\n     * @author Victor www.vitim.us\n     * @date   2017-03-23\n     */\n    loadMime(file, callback) {\n      //List of known mimes\n      var mimes = [{\n        mime: 'image/jpeg',\n        pattern: [0xFF, 0xD8, 0xFF],\n        mask: [0xFF, 0xFF, 0xFF]\n      }, {\n        mime: 'image/png',\n        pattern: [0x89, 0x50, 0x4E, 0x47],\n        mask: [0xFF, 0xFF, 0xFF, 0xFF]\n      }\n      // you can expand this list @see https://mimesniff.spec.whatwg.org/#matching-an-image-type-pattern\n      ];\n\n      function check(bytes, mime) {\n        for (var i = 0, l = mime.mask.length; i < l; ++i) {\n          if ((bytes[i] & mime.mask[i]) - mime.pattern[i] !== 0) {\n            return false;\n          }\n        }\n        return true;\n      }\n      var blob = file.slice(0, 4); //read the first 4 bytes of the file\n\n      var reader = new FileReader();\n      reader.onloadend = function (e) {\n        if (e.target.readyState === FileReader.DONE) {\n          var bytes = new Uint8Array(e.target.result);\n          for (var i = 0, l = mimes.length; i < l; ++i) {\n            if (check(bytes, mimes[i])) return callback(\"Mime: \" + mimes[i].mime + \" <br> Browser:\" + file.type);\n          }\n          return callback(\"Mime: unknown <br> Browser:\" + file.type);\n        }\n      };\n      reader.readAsArrayBuffer(blob);\n    },\n    detectMimeType(imageFile) {\n      console.log(imageFile.name);\n      var b = imageFile.name.includes('.png') || imageFile.name.includes('.jpg') || imageFile.name.includes('.jpeg') || imageFile.name.includes('.webp');\n      if (imageFile.name.length > 0) {\n        this.isImage = b;\n        return;\n      }\n\n      // The previous code is because the following didn't work:\n      const reader = new FileReader();\n      reader.readAsDataURL(imageFile);\n      reader.onload = eee => {\n        this.isImage = eee.explicitOriginalTarget.result.includes(\"image\");\n      };\n      reader.onloadend = eee => {\n        this.isImage = eee.explicitOriginalTarget.result.includes(\"image\");\n        /** /\n        var file = tempo\n          var arr = (new Uint8Array(file)).subarray(0, 4);\n          var header = \"\";\n          for(var i = 0; i < arr.length; i++) {\n            header += arr[i].toString(16);\n          }\n          console.log(header)\n          return this.getMimeType(header);\n        };\n        /**/\n        //return tempo   \n      };\n      //return tempo\n\n      //  function convertImageToBase64Async(imagUrl) {\n      //     return new Promise(resovle => convertImageToBase64(imgUrl, resolve))\n      //  } \n      // https://levelup.gitconnected.com/how-to-convert-image-to-base64-by-javascript-d110556de37f\n\n      /*\n      \n      function convertImageToBase64(imgUrl, callback) {\n        const image = new Image();\n        image.crossOrigin='anonymous';\n        image.onload = () => {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          canvas.height = image.naturalHeight;\n          canvas.width = image.naturalWidth;\n          ctx.drawImage(image, 0, 0);\n          const dataUrl = canvas.toDataURL();\n          callback && callback(dataUrl)\n        }\n        image.src = imgUrl;\n      }\n      \n      */\n    },\n\n    setImage(e) {\n      const file = e.target.files[0];\n      if (this.invalid(file)) {\n        return;\n      }\n      this.fileNameBlob = file.name;\n      if (typeof FileReader === \"function\") {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = e => {\n          this.$refs.cropper.replace(e.target.result);\n        };\n        reader.onloadend = f => {\n          this.toogleVentana();\n          this.selectedFile = f.target.result;\n        };\n      } else {\n        var msg = \"Sorry, FileReader API not supported\";\n        this.$emit(\"img-error\", msg);\n      }\n    },\n    setImageDrag(ggg) {\n      if (this.invalid(ggg)) {\n        return false;\n      }\n      /**/\n      this.fileNameBlob = ggg.name;\n      if (typeof FileReader === \"function\") {\n        const reader = new FileReader();\n        reader.readAsDataURL(ggg);\n        reader.onload = eee => {\n          this.$refs.cropper.replace(eee.target.result);\n        };\n        reader.onloadend = fff => {\n          this.toogleVentana();\n          this.selectedFile = fff.target.result;\n        };\n      } else {\n        var msg = \"Sorry, FileReader API not supported\";\n        this.$emit(\"img-error\", msg);\n      }\n      return true;\n      /**/\n    },\n\n    getMimeType(header) {\n      switch (header) {\n        case \"89504e47\":\n          return \"image/png\";\n        case \"47494638\":\n          return \"image/gif\";\n        case \"ffd8ffe0\":\n        case \"ffd8ffe1\":\n        case \"ffd8ffe2\":\n        case \"ffd8ffe3\":\n        case \"ffd8ffe8\":\n          return \"image/jpeg\";\n        default:\n          return \"unknown\";\n      }\n    },\n    fireChooser() {\n      this.$refs.fileInput.value = \"\";\n      this.$refs.fileInput.click();\n    },\n    flipX() {\n      const dom = this.$refs.flipX;\n      let scale = dom.getAttribute(\"data-scale\");\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleX(scale);\n      dom.setAttribute(\"data-scale\", scale);\n    },\n    flipY() {\n      const dom = this.$refs.flipY;\n      let scale = dom.getAttribute(\"data-scale\");\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleY(scale);\n      dom.setAttribute(\"data-scale\", scale);\n    },\n    rotate(deg) {\n      this.$refs.cropper.rotate(deg);\n    },\n    move(offsetX, offsetY) {\n      this.$refs.cropper.move(offsetX, offsetY);\n    },\n    zoom(percent) {\n      this.$refs.cropper.relativeZoom(percent);\n    },\n    cropImage() {\n      this.profilePicture = this.$refs.cropper.getCroppedCanvas().toDataURL(\"image/jpeg\");\n      this.$refs.cropper.getCroppedCanvas().toBlob(b => {\n        this.imageBlob = b;\n        this.imageBlob.name = this.fileNameBlob;\n        this.procesaImagen(this.profilePicture, this.imageBlob);\n        this.toogleVentana();\n      });\n    },\n    procesaImagen(img, imgBlob) {\n      // enviando la imagen al padre:\n      this.$emit(\"procesa-imagen\", img, imgBlob);\n\n      // pero aqui también se podría simplemente invocar al axios de guardado\n      // algo asi como lo siguiente:\n      //      let result = uploadComponent.uploadImage('/api/upload', img); // internamente, es un axcios call\n      //      if (result.length>0) message(result)\n      //console.log(test.pba())\n    },\n\n    // para este método, podría haber una propiedad que indique si hacer lo primero, lo segundo o ambos\n    toogleVentana() {\n      // cancelar el procesamiento de la imagen cada vez que la ventana cambie: x = !x\n      this.muestra = !this.muestra;\n      this.cancelaImagen();\n    },\n    cancelaImagen() {\n      this.$emit(\"cancela-imagen\");\n    },\n    cierraVentana() {\n      // cuando la ventana se cierre avisar via el método \"cancela-en-el-hijo\"\n      this.muestra = false;\n      this.$emit(\"cancela-en-el-hijo\");\n    }\n  }\n};","map":{"version":3,"names":["def","VueCropper","props","components","data","profilePicture","imageBlob","selectedFile","fileName","fileNameBlob","fileSize","ancho","alto","muestra","isImage","methods","invalid","file","kb","name","size","msg","$emit","detectMimeType","loadMime","callback","mimes","mime","pattern","mask","check","bytes","i","l","length","blob","slice","reader","FileReader","onloadend","e","target","readyState","DONE","Uint8Array","result","type","readAsArrayBuffer","imageFile","console","log","b","includes","readAsDataURL","onload","eee","explicitOriginalTarget","setImage","files","$refs","cropper","replace","f","toogleVentana","setImageDrag","ggg","fff","getMimeType","header","fireChooser","fileInput","value","click","flipX","dom","scale","getAttribute","scaleX","setAttribute","flipY","scaleY","rotate","deg","move","offsetX","offsetY","zoom","percent","relativeZoom","cropImage","getCroppedCanvas","toDataURL","toBlob","procesaImagen","img","imgBlob","cancelaImagen","cierraVentana"],"sources":["/home/ubuntu/development/code/Proyecto Chambeaya/src/components/ImageCropper.vue"],"sourcesContent":["<template>\n    <!-- Modal for us to crop the given image -->\n    <!-- TODO Make this componente reusable -->\n    <div class=\"modalx-overlay\" v-show=\"muestra\">\n      <!-- Hidden input file chooser accepting only images. For example: jpg, png, etc-->\n      <input\n        style=\"display: contents; background-color: yellow\"\n        type=\"file\"\n        @change=\"setImage\"\n        ref=\"fileInput\"\n        accept=\"image/*\"\n      />\n  \n      <div class=\"modalx\">\n        <div class=\"modal-headerX\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <a href=\"#\" class=\"modal-header-close\" @click=\"toogleVentana\">X</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"img-cropper\">\n          <!-- Cropper -->\n          <vue-cropper\n            ref=\"cropper\"\n            :src=\"selectedFile\"\n            :img-style=\"{ width: 'auto', height: '266' }\"\n            :aspectRatio=\"aspRad\"\n          >\n          </vue-cropper>\n          <!-- Toolbox -->\n          <div class=\"container bg-dark2 text-light toolSet\">\n            <div class=\"tools\">\n              <div class=\"d-flex\">\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"zoom(0.3)\"\n                    title=\"zoom in\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-search-plus\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"zoom(-0.3)\"\n                    title=\"zoom out\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-search-minus\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"rotate(45)\"\n                    title=\"rotate right\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-redo\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"rotate(-45)\"\n                    title=\"rotate left\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-undo\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(-10, 0)\"\n                    title=\"move left\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(10, 0)\"\n                    title=\"move right\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(0, -10)\"\n                    title=\"move up\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(0, 10)\"\n                    title=\"move down\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-down\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    ref=\"flipX\"\n                    href=\"#\"\n                    @click.prevent=\"flipX\"\n                    title=\"flip vertical\"\n                    class=\"link\"\n                  >\n                    <i class=\"fas fa-ruler-vertical\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    ref=\"flipY\"\n                    href=\"#\"\n                    @click.prevent=\"flipY\"\n                    title=\"flip horizontal\"\n                    class=\"link\"\n                  >\n                    <i class=\"fas fa-ruler-horizontal\"></i>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- Messages -->\n          <div class=\"container justify-content-around p-2 bg-dark3\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <small><i class=\"fas fa-file\"></i> {{ fileName }}</small>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <small\n                  ><i class=\"fas fa-ruler\"></i>\n                  {{ Math.trunc(fileSize / 1024) }} kilo bytes</small\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col\">\n            <button\n              type=\"button\"\n              class=\"button-selec\"\n              role=\"button\"\n              @click=\"cropImage\" >\n              Select\n            </button>\n  \n            <button\n              type=\"button\"\n              class=\"button-cancel\"\n              role=\"button\"\n              @click=\"cierraVentana\" >\n              Cancel\n            </button>\n  \n          </div>\n        </div>\n      </div>\n  \n    </div>\n  </template>\n  \n  <script>\n  import def from \"@/assets/default.jpg\";\n  import VueCropper from \"vue-cropperjs\";\n  import \"cropperjs/dist/cropper.css\";\n  \n  export default {\n    props: [\"aspRad\"],\n    components: {\n      VueCropper\n    },\n    data() {\n      return {\n        profilePicture: def,\n        imageBlob: def,\n        selectedFile: def,\n        fileName: \"\",\n        fileNameBlob:def,\n        fileSize: 0,\n        ancho: 366,\n        alto: 266,\n        muestra: false,\n        isImage: false\n      };\n    },\n    methods: {\n      invalid(file) {\n        let kb = 1024;\n        this.fileName = file.name;\n        this.fileSize = file.size;\n        if (file.size < 16 || file.size > 9000 * kb) {\n          const msg = \"Sorry, image too small or image too large. Size detected: \" + file.size + \" bytes\"\n          this.$emit(\"img-error\", msg)\n          return true\n        }\n        //if(file.height<16 || file.height>8000*kb) return \"Image Height to big or image too small: \" + file.height\n        //if(file.width<16 || file.width>8000*kb) return \"Image Width to big or image too small: \" + file.width\n        this.detectMimeType(file)\n        if (!this.isImage) {\n          const msg = \"Sorry, this is not an image file :(\";\n          this.$emit(\"img-error\", msg)\n          return true\n        }\n        return false\n      },\n  \n  \n  /**\n   * Load the mime type based on the signature of the first bytes of the file\n   * @param  {File}   file        A instance of File\n   * @param  {Function} callback  Callback with the result\n   * @author Victor www.vitim.us\n   * @date   2017-03-23\n   */\n  loadMime(file, callback) {\n      //List of known mimes\n      var mimes = [\n          {\n              mime: 'image/jpeg',\n              pattern: [0xFF, 0xD8, 0xFF],\n              mask: [0xFF, 0xFF, 0xFF],\n          },\n          {\n              mime: 'image/png',\n              pattern: [0x89, 0x50, 0x4E, 0x47],\n              mask: [0xFF, 0xFF, 0xFF, 0xFF],\n          }\n          // you can expand this list @see https://mimesniff.spec.whatwg.org/#matching-an-image-type-pattern\n      ];\n  \n      function check(bytes, mime) {\n          for (var i = 0, l = mime.mask.length; i < l; ++i) {\n              if ((bytes[i] & mime.mask[i]) - mime.pattern[i] !== 0) {\n                  return false;\n              }\n          }\n          return true;\n      }\n  \n      var blob = file.slice(0, 4); //read the first 4 bytes of the file\n  \n      var reader = new FileReader();\n      reader.onloadend = function(e) {\n          if (e.target.readyState === FileReader.DONE) {\n              var bytes = new Uint8Array(e.target.result);\n  \n              for (var i=0, l = mimes.length; i<l; ++i) {\n                  if (check(bytes, mimes[i])) return callback(\"Mime: \" + mimes[i].mime + \" <br> Browser:\" + file.type);\n              }\n  \n              return callback(\"Mime: unknown <br> Browser:\" + file.type);\n          }\n      };\n      reader.readAsArrayBuffer(blob);\n  },\n  \n  \n      detectMimeType(imageFile) {\n        console.log(imageFile.name)\n        var b = imageFile.name.includes('.png') || \n                imageFile.name.includes('.jpg') || \n                imageFile.name.includes('.jpeg') || \n                imageFile.name.includes('.webp')\n        if(imageFile.name.length>0) {\n          this.isImage = b\n          return;\n        }\n  \n        // The previous code is because the following didn't work:\n        const reader = new FileReader()\n        reader.readAsDataURL(imageFile)\n        reader.onload = (eee) => {\n          this.isImage = eee.explicitOriginalTarget.result.includes(\"image\")\n        }\n        reader.onloadend = (eee) => {\n          this.isImage = eee.explicitOriginalTarget.result.includes(\"image\")\n          /** /\n          var file = tempo\n            var arr = (new Uint8Array(file)).subarray(0, 4);\n            var header = \"\";\n            for(var i = 0; i < arr.length; i++) {\n              header += arr[i].toString(16);\n            }\n            console.log(header)\n            return this.getMimeType(header);\n          };\n          /**/ \n          //return tempo   \n        }   \n        //return tempo\n  \n  \n  \n  //  function convertImageToBase64Async(imagUrl) {\n  //     return new Promise(resovle => convertImageToBase64(imgUrl, resolve))\n  //  } \n  // https://levelup.gitconnected.com/how-to-convert-image-to-base64-by-javascript-d110556de37f\n  \n  /*\n  \n  function convertImageToBase64(imgUrl, callback) {\n    const image = new Image();\n    image.crossOrigin='anonymous';\n    image.onload = () => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      canvas.height = image.naturalHeight;\n      canvas.width = image.naturalWidth;\n      ctx.drawImage(image, 0, 0);\n      const dataUrl = canvas.toDataURL();\n      callback && callback(dataUrl)\n    }\n    image.src = imgUrl;\n  }\n  \n  */\n      },\n      setImage(e) {     \n        const file = e.target.files[0];\n        if (this.invalid(file)) {\n          return\n        }\n        this.fileNameBlob= file.name;\n        if (typeof FileReader === \"function\") {\n          const reader = new FileReader()\n          reader.readAsDataURL(file)\n          reader.onload = (e) => {\n            this.$refs.cropper.replace(e.target.result)\n          };\n          reader.onloadend = (f) => {\n            this.toogleVentana();\n            this.selectedFile = f.target.result\n          };\n        } else {\n          var msg = \"Sorry, FileReader API not supported\"\n          this.$emit(\"img-error\", msg)\n        }\n      },\n      setImageDrag(ggg) {\n        if (this.invalid(ggg)) {\n          return false\n        }\n        /**/\n        this.fileNameBlob = ggg.name;      \n        if (typeof FileReader === \"function\") {\n          const reader = new FileReader()\n          reader.readAsDataURL(ggg)\n          reader.onload = (eee) => {\n            this.$refs.cropper.replace(eee.target.result)\n          };\n          reader.onloadend = (fff) => {\n            this.toogleVentana();\n            this.selectedFile = fff.target.result\n          };\n        } else {\n          var msg = \"Sorry, FileReader API not supported\"\n          this.$emit(\"img-error\", msg)\n        }\n        return true\n        /**/\n      },\n      getMimeType(header) {\n        switch (header) {\n          case \"89504e47\":\n            return \"image/png\";\n          case \"47494638\":\n            return \"image/gif\";\n          case \"ffd8ffe0\":\n          case \"ffd8ffe1\":\n          case \"ffd8ffe2\":\n          case \"ffd8ffe3\":\n          case \"ffd8ffe8\":\n            return \"image/jpeg\";\n          default:\n            return \"unknown\";\n        }\n      },\n      fireChooser() {\n        this.$refs.fileInput.value = \"\";\n        this.$refs.fileInput.click();\n      },\n      flipX() {\n        const dom = this.$refs.flipX;\n        let scale = dom.getAttribute(\"data-scale\");\n        scale = scale ? -scale : -1;\n        this.$refs.cropper.scaleX(scale);\n        dom.setAttribute(\"data-scale\", scale);\n      },\n      flipY() {\n        const dom = this.$refs.flipY;\n        let scale = dom.getAttribute(\"data-scale\");\n        scale = scale ? -scale : -1;\n        this.$refs.cropper.scaleY(scale);\n        dom.setAttribute(\"data-scale\", scale);\n      },\n      rotate(deg) {\n        this.$refs.cropper.rotate(deg);\n      },\n      move(offsetX, offsetY) {\n        this.$refs.cropper.move(offsetX, offsetY);\n      },\n      zoom(percent) {\n        this.$refs.cropper.relativeZoom(percent);\n      },\n      cropImage() {      \n        this.profilePicture = this.$refs.cropper\n          .getCroppedCanvas()\n          .toDataURL(\"image/jpeg\");\n        this.$refs.cropper.getCroppedCanvas().toBlob((b) => {\n          this.imageBlob = b;\n          this.imageBlob.name = this.fileNameBlob;                      \n          this.procesaImagen(this.profilePicture, this.imageBlob);\n          this.toogleVentana();\n        });\n      },\n      procesaImagen(img, imgBlob) {\n        // enviando la imagen al padre:\n        this.$emit(\"procesa-imagen\", img, imgBlob);\n  \n        // pero aqui también se podría simplemente invocar al axios de guardado\n        // algo asi como lo siguiente:\n        //      let result = uploadComponent.uploadImage('/api/upload', img); // internamente, es un axcios call\n        //      if (result.length>0) message(result)\n        //console.log(test.pba())\n      }, // para este método, podría haber una propiedad que indique si hacer lo primero, lo segundo o ambos\n      toogleVentana() {\n        // cancelar el procesamiento de la imagen cada vez que la ventana cambie: x = !x\n        this.muestra = !this.muestra;\n        this.cancelaImagen();      \n      },\n      cancelaImagen() {      \n        this.$emit(\"cancela-imagen\");\n      },\n      cierraVentana() {\n        // cuando la ventana se cierre avisar via el método \"cancela-en-el-hijo\"\n        this.muestra = false;\n        this.$emit(\"cancela-en-el-hijo\");    \n      },    \n    },\n  };\n  </script>\n  \n   <style scaoped>\n  .close {\n    text-align: right !important;\n    margin-right: 10px;\n  }\n  .izquierda {\n    text-align: left !important;\n    margin-left: 10px;\n  }\n  .croppedImage {\n    display: block;\n    width: 200px;\n    height: auto;\n  }\n  #black-label {\n    color: #fff;\n    font-size: 0.7em;\n  }\n  .close {\n    margin: 10% 0 0 16px;\n    cursor: pointer;\n  }\n  .link {\n    color: green;\n  }\n  .link:hover {\n    color: red;\n  }\n  .bg-dark2 {\n    background-color: #ccc;\n  }\n  .bg-dark3 {\n    background-color: #fff;\n  }\n  .foto {\n    position: relative;\n    background-color: #ff0000;\n    display: inline-block;\n    text-align: center;\n    border-radius: 50%;\n    overflow: hidden;\n    transition: transform 0.2s;\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px,\n      rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n  }\n  .foto:hover {\n    transform: scale(1.1);\n  }\n  .modalx-overlay {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    background-color: #000000da;\n  }\n  .modalx {\n    background-color: white;\n    height: 500px;\n    width: 500px;\n    margin-top: 10%;\n    padding: 10px 0;\n    border-radius: 6px;\n  }\n  .buttonX {\n    background-color: #0a0a23;\n    color: #fff;\n    border: none;\n    border-radius: 10px;\n    padding: 3px;\n    min-height: 30px;\n    min-width: 120px;\n    cursor: pointer;\n  }\n  .buttonX:hover {\n    background-color: #002ead;\n    transition: 0.7s;\n  }\n  \n  .modal-header-close {\n    text-decoration: none;\n    font-weight: bold;\n    color: #ff0000;\n    padding-top: 45px;\n  }\n  .modal-header-close:hover {\n    text-decoration: none;\n    color: #ff0000;\n  }\n  .modal-headerX {\n    text-align: right;\n    height: 40px;\n  }\n  .icons {\n    margin: 8px;\n  }\n  \n  .button-selec {\n    appearance: none;\n    background-color: #2ea44f;\n    border: 1px solid rgba(27, 31, 35, 0.15);\n    border-radius: 6px;\n    box-shadow: rgba(27, 31, 35, 0.1) 0 1px 0;\n    box-sizing: border-box;\n    color: #fff;\n    cursor: pointer;\n    display: inline-block;\n    font-family: -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 20px;\n    padding: 6px 16px;\n    position: relative;\n    text-align: center;\n    text-decoration: none;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    vertical-align: middle;\n    white-space: nowrap;\n    margin: 10px;\n  }\n  \n  .button-selec:focus:not(:focus-visible):not(.focus-visible) {\n    box-shadow: none;\n    outline: none;\n  }\n  \n  .button-selec:hover {\n    background-color: #2c974b;\n  }\n  \n  .button-selec:focus {\n    box-shadow: rgba(46, 164, 79, 0.4) 0 0 0 3px;\n    outline: none;\n  }\n  \n  .button-selec:disabled {\n    background-color: #94d3a2;\n    border-color: rgba(27, 31, 35, 0.1);\n    color: rgba(255, 255, 255, 0.8);\n    cursor: default;\n  }\n  \n  .button-selec:active {\n    background-color: #298e46;\n    box-shadow: rgba(20, 70, 32, 0.2) 0 1px 0 inset;\n  }\n  \n  .space {\n    padding: 8px;\n  }\n  \n  .button-cancel {\n    appearance: none;\n    background-color: #dc3545;\n    border: 1px solid rgba(27, 31, 35, 0.15);\n    border-radius: 6px;\n    box-shadow: rgba(27, 31, 35, 0.1) 0 1px 0;\n    box-sizing: border-box;\n    color: #fff;\n    cursor: pointer;\n    display: inline-block;\n    font-family: -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 20px;\n    padding: 6px 16px;\n    position: relative;\n    text-align: center;\n    text-decoration: none;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  \n  .button-cancel:focus:not(:focus-visible):not(.focus-visible) {\n    box-shadow: none;\n    outline: none;\n  }\n  \n  .button-cancel:hover {\n    background-color: #dc3545;\n  }\n  \n  .button-cancel:focus {\n    box-shadow: rgba(46, 164, 79, 0.4) 0 0 0 3px;\n    outline: none;\n  }\n  \n  .button-cancel:disabled {\n    background-color: #dc3545;\n    border-color: rgba(27, 31, 35, 0.1);\n    color: rgba(255, 255, 255, 0.8);\n    cursor: default;\n  }\n  \n  .button-cancel:active {\n    background-color: #dc3545;\n    box-shadow: rgba(20, 70, 32, 0.2) 0 1px 0 inset;\n  }\n  \n  .tools {\n    display: flex;\n    justify-content: center;\n  }\n  </style>\n  \n  \n  \n  \n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}