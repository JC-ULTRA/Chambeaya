{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a96f2d3\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"content\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"main\", {\n  class: \"container pb-5 hoja\"\n}, null, -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderComponent = _resolveComponent(\"HeaderComponent\");\n  const _component_AvisoWindow = _resolveComponent(\"AvisoWindow\");\n  const _component_FooterComponent = _resolveComponent(\"FooterComponent\");\n  return _openBlock(), _createElementBlock(\"body\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_HeaderComponent), _hoisted_2, _createVNode(_component_AvisoWindow, {\n    ref: \"avisoWindow\",\n    avisoTitulo: \"Recuperaci칩n de clave\",\n    avisoMsg: $data.msg,\n    target: $data.destino\n  }, null, 8 /* PROPS */, [\"avisoMsg\", \"target\"]), _createVNode(_component_FooterComponent, {\n    class: \"down\"\n  })])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderComponent","_hoisted_2","_component_AvisoWindow","ref","avisoTitulo","avisoMsg","$data","msg","target","destino","_component_FooterComponent"],"sources":["/home/ubuntu/development/code/Proyecto Chambeaya/src/views/ForgotPassView.vue"],"sourcesContent":["<template>\n    <body>\n        <div class=\"content\">\n            <HeaderComponent />\n            <main class=\"container pb-5 hoja\">\n            </main>    \n            <AvisoWindow ref=\"avisoWindow\" avisoTitulo=\"Recuperaci칩n de clave\" :avisoMsg=msg :target=destino />\n            <FooterComponent class=\"down\" />\n        </div>\n    </body>\n</template>\n\n<script>\nimport axios from 'axios'\nimport store from '@/store'\nimport { VueRecaptcha } from \"vue-recaptcha\";\nimport AvisoWindow from '@/components/AvisoWindow.vue'\nimport FooterComponent from '@/components/FooterComponent.vue';\nimport HeaderComponent from '@/components/HeaderComponent.vue'\n\n\nconst emailRegex = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\nconst HTTP_STATUS = {\n    OK: 200,\n    FORBIDDEN: 403,\n};\n\nexport default {\n\n\n\n    data() {\n        return {\n            email: '',\n            msg: '',\n            destino: '',\n            errorText: ''\n        }\n    },\n    components: {\n        VueRecaptcha,\n        AvisoWindow,\n        FooterComponent,\n        HeaderComponent\n    },\n    mounted() {\n        store.commit('setDestination', '/ui/results')\n    },\n    methods: {\n        enviar: function () {\n            if (!emailRegex.test(this.email)) {\n                this.errorText = \"Formato de correo inv치lido\"\n                this.$refs.message01.presenta()\n                return\n            }\n            axios.get(\"https://access.qbits.mx/api/forgot-password-request\", {\n                headers: { test: 'ok' },\n                params: { email: this.email }\n            })\n                .then(response => {\n                    response;\n                    store.commit('setDestination', '/ui/forgot-confirm')\n                    this.msg = 'Te hemos enviado un correo con un token de recuperaci칩n.'\n                    this.destino = '/ui/forgot-confirm'\n                    this.$refs.avisoWindow.openModal()\n                })\n                .catch(error => {\n                    error;\n                    this.msg = error.response\n                    this.destino = ''\n                    this.$refs.avisoWindow.openModal()\n                })\n        },\n        onCaptchaVerified(recaptchaToken) {\n            this.captcha = false;\n            axios.post(\"https://access.qbits.mx/api/check-captcha\", {\n                response: recaptchaToken,\n                ip: \"127.0.0.1\",\n            }).then((response) => {\n                if (response.status === HTTP_STATUS.OK) {\n                    this.captcha = true;\n                } else {\n                    this.msgErr = \"Regreso con un estatus: \" + response.status;\n                }\n            }).catch((error) => {\n                console.log(error.data);\n                this.msgErr = \"Ha ocurrido un error de red: \" + error;\n            }).finally(() => (console.log('this.loading = false')));\n        },\n        onCaptchaExpired() {\n            this.captcha = false;\n            this.$refs.recaptcha.reset();\n        },\n    }\n}\n</script>\n\n<style scoped>\n.ancho {\n    max-width: 600px;\n    margin: auto;\n    margin-top: 100px;\n}\n</style>"],"mappings":";;;EAEaA,KAAK,EAAC;AAAS;gEAEhBC,mBAAA,CACO;EADDD,KAAK,EAAC;AAAqB;;;;;;uBAHzCE,mBAAA,CAQO,eAPHD,mBAAA,CAMM,OANNE,UAMM,GALFC,YAAA,CAAmBC,0BAAA,GACnBC,UACO,EACPF,YAAA,CAAmGG,sBAAA;IAAtFC,GAAG,EAAC,aAAa;IAACC,WAAW,EAAC,uBAAuB;IAAEC,QAAQ,EAACC,KAAA,CAAAC,GAAG;IAAEC,MAAM,EAACF,KAAA,CAAAG;mDACzFV,YAAA,CAAgCW,0BAAA;IAAff,KAAK,EAAC;EAAM,G"},"metadata":{},"sourceType":"module","externalDependencies":[]}