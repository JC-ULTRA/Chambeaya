{"ast":null,"code":"import axios from 'axios';\nimport HeaderComponent from '@/components/HeaderComponent.vue';\nimport FooterComponent from '@/components/FooterComponent.vue';\nimport SideBarComponent from '@/components/SideBarComponent.vue';\nimport store from '@/store';\nexport default {\n  components: {\n    HeaderComponent,\n    FooterComponent,\n    SideBarComponent\n  },\n  data() {\n    return {\n      imagenes: [],\n      maxImagesAllowed: 2,\n      loadedImages: 0,\n      idUser: store.state.userData.idUser\n    };\n  },\n  mounted() {\n    this.carga();\n  },\n  methods: {\n    carga() {\n      axios.get(\"https://upload.qbits.mx/api/up/get-user-identification-images/\" + this.idUser).then(response => {\n        this.imagenes = response.data;\n        this.loadedImages = this.imagen.length;\n        console.log(this.imagenes);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    elimina: function (imagen) {\n      let tarjeta = document.querySelectorAll(\".elemento\");\n      console.log(\"La imagen se ha eliminado correctamente\");\n      // Eliminar la imagen de la matriz de imágenes\n      const index = this.imagenes.indexOf(imagen);\n      //this.imagenes.splice(index,1);\n      console.log(index);\n      tarjeta[index].textContent = \"\";\n      console.log(imagen.id);\n      console.log(\"estoy llegando\");\n      const options = {\n        method: \"DELETE\",\n        url: `https://upload.qbits.mx/api/up/delete-media/${imagen.id}`,\n        headers: {\n          idMedia: imagen.id,\n          IdUser: store.state.userData.idUser,\n          jwt: store.state.userData.jwt\n        }\n      };\n      console.log(\"estoy llegando\");\n      axios.request(options).then(function (response) {\n        this.loader = \"none\";\n        console.log(response.data);\n        this.delete = response.data;\n        location.reload();\n      }).catch(function (error) {\n        this.loader = \"none\";\n        console.error(error);\n      });\n    },\n    muestraimg(Nombreimg) {\n      return `https://media.visitanos.net/image${Nombreimg}`;\n    }\n  }\n};","map":{"version":3,"names":["axios","HeaderComponent","FooterComponent","SideBarComponent","store","components","data","imagenes","maxImagesAllowed","loadedImages","idUser","state","userData","mounted","carga","methods","get","then","response","imagen","length","console","log","catch","error","elimina","tarjeta","document","querySelectorAll","index","indexOf","textContent","id","options","method","url","headers","idMedia","IdUser","jwt","request","loader","delete","location","reload","muestraimg","Nombreimg"],"sources":["/home/ubuntu/development/code/jc/Chambeaya/src/views/OfficialDocUpLoadView.vue"],"sourcesContent":["<template>\n    <body>\n        <div>\n            <HeaderComponent />\n            <div class=\"d-md-block col-md-3\">\n                <SideBarComponent />\n            </div>\n            <main class=\"container pt-5 hoja\">\n\n                <div>\n                    <h1 class=\"text-center mb-5\">Captura de identificación oficial</h1>\n                </div>\n\n                <form>\n                    <div v-if=\"loadedImages < maxImagesAllowed\" class=\"row justify-content-center\">\n                        <div class=\"col-sm-6 col-md-4 mb-4\">\n                            <label>Identificación oficial anverso</label>\n                            <div class=\"mb-3\">\n                                <a href=\"/ui/upload\">\n                                    <img src=\"../assets/anverso.png\" alt=\"Identificación oficial anverso\"\n                                        class=\"img-fluid mb-2 img-thumbnail fa-fade\"\n                                        style=\"--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;  width: 200px; height: 125px; \">\n                                </a>\n                            </div>\n                        </div>\n\n                        <div class=\"col-sm-6 col-md-4 mb-4\">\n                            <label>Identificación oficial reverso</label>\n                            <div class=\"mb-3\">\n                                <a href=\"/ui/upload\">\n                                    <img src=\"../assets/reverso.png\" alt=\"Identificación oficial reverso\"\n                                        class=\"img-fluid mb-2 img-thumbnail fa-fade\"\n                                        style=\"--fa-animation-duration: 2s; --fa-fade-opacity: 0.6; width: 200px; height: 125px;\">\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                    <div v-else>\n                        <h1>El máximo de imágenes permitido ha sido alcanzado</h1>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-sm-6 col-md-4 mb-4 position-relative\" v-for=\"imagen in imagenes\" v-bind:key=\"imagen.id\" >\n                                <img :src=\"muestraimg(imagen.fullHttpUploadUrl)\" class=\"img-fluid mb-2 img-thumbnail\"\n                        style=\"width: 400px; height: 200px;\" />\n                                <i class=\"fa-solid fa-circle-xmark  fa-2xl position-absolute top-0 end-0 border border-light\"\n                                    style=\"color: #ec091f\" @click=\"elimina(imagen)\"></i>\n                        </div>\n                    </div>\n\n                    <div class=\"d-grid pb-5 mt-5 col-2 mx-auto\">\n                        <button type=\"submit\" class=\"btn btn1\">Enviar</button>\n                    </div>\n\n                </form>\n\n\n            </main>\n            <FooterComponent />\n        </div>\n    </body>\n</template>\n\n<script>\nimport axios from 'axios';\nimport HeaderComponent from '@/components/HeaderComponent.vue';\nimport FooterComponent from '@/components/FooterComponent.vue';\nimport SideBarComponent from '@/components/SideBarComponent.vue';\nimport store from '@/store';\n\nexport default {\n    components: {\n        HeaderComponent,\n        FooterComponent,\n        SideBarComponent,\n    },\n    data() {\n        return {\n            imagenes: [],\n            maxImagesAllowed: 2,\n            loadedImages: 0,\n            idUser: store.state.userData.idUser,\n        }\n    },\n    mounted() {\n        this.carga();\n    },\n    methods: {\n        carga() {\n            axios\n                .get(\n                    \"https://upload.qbits.mx/api/up/get-user-identification-images/\" +\n                    this.idUser\n                )\n                .then((response) => {\n                    this.imagenes = response.data;\n                    this.loadedImages = this.imagen.length;\n                    console.log(this.imagenes);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        },\n        elimina: function (imagen) {\n            let tarjeta = document.querySelectorAll(\".elemento\");\n            console.log(\"La imagen se ha eliminado correctamente\");\n            // Eliminar la imagen de la matriz de imágenes\n            const index = this.imagenes.indexOf(imagen);\n            //this.imagenes.splice(index,1);\n            console.log(index);\n            tarjeta[index].textContent = \"\";\n            console.log(imagen.id);\n            console.log(\"estoy llegando\");\n            const options = {\n                method: \"DELETE\",\n                url: `https://upload.qbits.mx/api/up/delete-media/${imagen.id}`,\n                headers: {\n                    idMedia: imagen.id,\n                    IdUser: store.state.userData.idUser,\n                    jwt: store.state.userData.jwt,\n                },\n            };\n            console.log(\"estoy llegando\");\n            axios\n                .request(options)\n                .then(function (response) {\n                    this.loader = \"none\";\n                    console.log(response.data);\n                    this.delete = response.data;\n                    location.reload();\n                })\n                .catch(function (error) {\n                    this.loader = \"none\";\n                    console.error(error);\n                });\n        },\n        muestraimg(Nombreimg) {\n            return `https://media.visitanos.net/image${Nombreimg}`;\n        },\n    },\n}\n</script>\n\n<style scoped>\n.ordenar img {\n    display: block;\n}\n\ndiv.row {\n    justify-content: center;\n    gap: 10%;\n}\n\n.ordenar button {\n    display: block;\n}\n\n.hoja {\n    background: #a5a5a5dc;\n}\n\n.ordenar {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    background: whitesmoke;\n    border-radius: 10px;\n}\n\n.btn1 {\n    background: #8BC34A;\n}\n\nh1 {\n    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\n    color: black;\n    text-shadow: 5px 0px 3px whitesmoke;\n    ;\n    font-size: 2.5rem;\n    line-height: 1.2;\n}\n\nbody {\n    background-image: url('../assets/oficios.jpg');\n    background-size: cover;\n    position: relative;\n}\n\n#titulo {\n    cursor: pointer;\n    transition: color 0.3s ease-in-out;\n}\n\n#titulo:hover {\n    cursor: crosshair;\n    color: darkblue;\n}\n\n.btn1:hover {\n    color: white;\n}\n</style>"],"mappings":"AAgEA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,eAAc,MAAO,kCAAkC;AAC9D,OAAOC,eAAc,MAAO,kCAAkC;AAC9D,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,OAAOC,KAAI,MAAO,SAAS;AAE3B,eAAe;EACXC,UAAU,EAAE;IACRJ,eAAe;IACfC,eAAe;IACfC;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,gBAAgB,EAAE,CAAC;MACnBC,YAAY,EAAE,CAAC;MACfC,MAAM,EAAEN,KAAK,CAACO,KAAK,CAACC,QAAQ,CAACF;IACjC;EACJ,CAAC;EACDG,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,KAAK,EAAE;EAChB,CAAC;EACDC,OAAO,EAAE;IACLD,KAAKA,CAAA,EAAG;MACJd,KAAI,CACCgB,GAAG,CACA,gEAA+D,GAC/D,IAAI,CAACN,MAAK,CACd,CACCO,IAAI,CAAEC,QAAQ,IAAK;QAChB,IAAI,CAACX,QAAO,GAAIW,QAAQ,CAACZ,IAAI;QAC7B,IAAI,CAACG,YAAW,GAAI,IAAI,CAACU,MAAM,CAACC,MAAM;QACtCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,QAAQ,CAAC;MAC9B,CAAC,EACAgB,KAAK,CAAEC,KAAK,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACtB,CAAC,CAAC;IACV,CAAC;IACDC,OAAO,EAAE,SAAAA,CAAUN,MAAM,EAAE;MACvB,IAAIO,OAAM,GAAIC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAC;MACpDP,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;MACtD;MACA,MAAMO,KAAI,GAAI,IAAI,CAACtB,QAAQ,CAACuB,OAAO,CAACX,MAAM,CAAC;MAC3C;MACAE,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;MAClBH,OAAO,CAACG,KAAK,CAAC,CAACE,WAAU,GAAI,EAAE;MAC/BV,OAAO,CAACC,GAAG,CAACH,MAAM,CAACa,EAAE,CAAC;MACtBX,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7B,MAAMW,OAAM,GAAI;QACZC,MAAM,EAAE,QAAQ;QAChBC,GAAG,EAAG,+CAA8ChB,MAAM,CAACa,EAAG,EAAC;QAC/DI,OAAO,EAAE;UACLC,OAAO,EAAElB,MAAM,CAACa,EAAE;UAClBM,MAAM,EAAElC,KAAK,CAACO,KAAK,CAACC,QAAQ,CAACF,MAAM;UACnC6B,GAAG,EAAEnC,KAAK,CAACO,KAAK,CAACC,QAAQ,CAAC2B;QAC9B;MACJ,CAAC;MACDlB,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7BtB,KAAI,CACCwC,OAAO,CAACP,OAAO,EACfhB,IAAI,CAAC,UAAUC,QAAQ,EAAE;QACtB,IAAI,CAACuB,MAAK,GAAI,MAAM;QACpBpB,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACZ,IAAI,CAAC;QAC1B,IAAI,CAACoC,MAAK,GAAIxB,QAAQ,CAACZ,IAAI;QAC3BqC,QAAQ,CAACC,MAAM,EAAE;MACrB,CAAC,EACArB,KAAK,CAAC,UAAUC,KAAK,EAAE;QACpB,IAAI,CAACiB,MAAK,GAAI,MAAM;QACpBpB,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACxB,CAAC,CAAC;IACV,CAAC;IACDqB,UAAUA,CAACC,SAAS,EAAE;MAClB,OAAQ,oCAAmCA,SAAU,EAAC;IAC1D;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}