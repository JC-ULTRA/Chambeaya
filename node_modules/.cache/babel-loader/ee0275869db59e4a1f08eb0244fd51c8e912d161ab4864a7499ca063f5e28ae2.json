{"ast":null,"code":"import axios from 'axios';\nimport Footer2Component from '@/components/Footer2Component.vue';\n//import store from '@/store'\n\nexport default {\n  components: {\n    Footer2Component\n  },\n  data() {\n    return {\n      imagenes: [],\n      token: ''\n    };\n  },\n  mounted() {\n    this.obtenerToken();\n    this.obtenerImagenes();\n  },\n  methods: {\n    obtenerImagenes() {\n      axios.get('https://upload.qbits.mx/api/up/get-user-all-images/51').then(response => {\n        this.imagenes = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getImagenUrl(fullHttpUploadUrl) {\n      return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n    },\n    async obtenerToken() {\n      try {\n        const response = await axios.post('https://upload.qbits.mx/api/auth/login', {\n          email: 'tu_correo@ejemplo.com',\n          password: 'tu_contrase침a'\n        });\n        this.token = response.data.token;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async borrarImagen(idImg, idUser, token, index) {\n      try {\n        const response = await axios.delete(`https://upload.qbits.mx/api/up/delete-image/${idImg}/${idUser}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log(response.data.message);\n        // Eliminar la imagen de la matriz de im치genes\n        this.imagenes.splice(index, 1);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Footer2Component","components","data","imagenes","token","mounted","obtenerToken","obtenerImagenes","methods","get","then","response","catch","error","console","log","getImagenUrl","fullHttpUploadUrl","post","email","password","borrarImagen","idImg","idUser","index","delete","headers","message","splice"],"sources":["/home/ubuntu/development/code/practica-vue/src/views/EditImagesView.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-dark bg-dark\">\n      <div class=\"container-fluid\">\n          <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\">\n              <span class=\"navbar-toggler-icon\"></span>\n          </button>\n      </div>\n  </nav>\n  <div class=\"fondo\">\n      <div class=\"pt-4\">\n          <h1>IMAGES</h1>\n      </div>\n      <div class=\"p-4\">\n          <div class=\"row gap-3\">\n              <div class=\"col col-auto px-0\" v-for=\"(imagen, index) in imagenes\" :key=\"imagen.id\">\n                  <div class=\"card colorcard\">\n                      <div class=\"position-relative\">\n                          <img class=\"card-img-top p-2 imagen\" :src=\"getImagenUrl(imagen.fullHttpUploadUrl)\" alt=\"Imagen\">\n                          <button type=\"button\" class=\"btn btn-outline-primary boton\" @click=\"borrarImagen(imagen.id, imagen.idUsuario, token, index)\">\n                          </button>\n                      </div>\n                      <div class=\"card-body\" style=\"text-align: center;\">\n                          <p class=\"card-title usuario\">User: {{ imagen.idUsuario }}</p>\n                          <p class=\"card-text name\">Name: {{ imagen.nombreOriginal }}</p>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </div>\n  <Footer2Component />\n</template>\n\n<script>\nimport axios from 'axios';\nimport Footer2Component from '@/components/Footer2Component.vue';\n//import store from '@/store'\n\nexport default {\ncomponents: {\n  Footer2Component,\n},\ndata() {\n  return {\n    imagenes: [],\n    token: '',\n  }\n},\nmounted() {\n  this.obtenerToken();\n  this.obtenerImagenes();\n},\nmethods: {\n  obtenerImagenes() {\n    axios.get('https://upload.qbits.mx/api/up/get-user-all-images/51')\n      .then(response => {\n        this.imagenes = response.data;\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  },\n  getImagenUrl(fullHttpUploadUrl) {\n    return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n  },\n  async obtenerToken() {\n    try {\n      const response = await axios.post('https://upload.qbits.mx/api/auth/login', {\n        email: 'tu_correo@ejemplo.com',\n        password: 'tu_contrase침a'\n      });\n      this.token = response.data.token;\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  async borrarImagen(idImg, idUser, token, index) {\n    try {\n      const response = await axios.delete(`https://upload.qbits.mx/api/up/delete-image/${idImg}/${idUser}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n      console.log(response.data.message);\n      // Eliminar la imagen de la matriz de im치genes\n      this.imagenes.splice(index, 1);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n}\n</script>\n\n\n<style>\n.fondo {\n    background: #288BA8;\n    padding: 20px;\n}\n\n.colorcard {\n    background: rgba(65, 65, 248, 0.164);\n}\n\n.boton {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    border-radius: 50%;\n    border: 2px solid red;\n    color: red;\n}\n\n.imagen {\n    border-radius: 20px;\n    border: none;\n    max-width: 200px;\n    max-height: 200px;\n    object-fit: cover;\n}\n\n.usuario {\n    color: blueviolet;\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    font-size: 12px;\n}\n\n.name {\n    color: black;\n    font-size: 12px;\n}\n</style>"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,gBAAe,MAAO,mCAAmC;AAChE;;AAEA,eAAe;EACfC,UAAU,EAAE;IACVD;EACF,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI,CAACC,eAAe,EAAE;EACxB,CAAC;EACDC,OAAO,EAAE;IACPD,eAAeA,CAAA,EAAG;MAChBR,KAAK,CAACU,GAAG,CAAC,uDAAuD,EAC9DC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACR,QAAO,GAAIQ,QAAQ,CAACT,IAAI;MAC/B,CAAC,EACAU,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDG,YAAYA,CAACC,iBAAiB,EAAE;MAC9B,OAAQ,oCAAmCA,iBAAkB,EAAC;IAChE,CAAC;IACD,MAAMX,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMK,QAAO,GAAI,MAAMZ,KAAK,CAACmB,IAAI,CAAC,wCAAwC,EAAE;UAC1EC,KAAK,EAAE,uBAAuB;UAC9BC,QAAQ,EAAE;QACZ,CAAC,CAAC;QACF,IAAI,CAAChB,KAAI,GAAIO,QAAQ,CAACT,IAAI,CAACE,KAAK;MAClC,EAAE,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IACD,MAAMQ,YAAYA,CAACC,KAAK,EAAEC,MAAM,EAAEnB,KAAK,EAAEoB,KAAK,EAAE;MAC9C,IAAI;QACF,MAAMb,QAAO,GAAI,MAAMZ,KAAK,CAAC0B,MAAM,CAAE,+CAA8CH,KAAM,IAAGC,MAAO,EAAC,EAAE;UACpGG,OAAO,EAAE;YACP,eAAe,EAAG,UAAStB,KAAM;UACnC;QACF,CAAC,CAAC;QACFU,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACT,IAAI,CAACyB,OAAO,CAAC;QAClC;QACA,IAAI,CAACxB,QAAQ,CAACyB,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;MAChC,EAAE,OAAOX,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}