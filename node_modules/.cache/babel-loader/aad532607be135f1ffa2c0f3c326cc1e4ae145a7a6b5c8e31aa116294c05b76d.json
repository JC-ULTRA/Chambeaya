{"ast":null,"code":"import axios from 'axios';\nimport Footer2Component from '@/components/Footer2Component.vue';\nimport store from '@/store';\nexport default {\n  props: ['idImg'],\n  data: function () {\n    return {\n      dimg: this.idImg\n    };\n  },\n  methods: {\n    loggear: function () {\n      const url = \"https://access.qbits.mx/api/login\";\n      axios.post(url, {\n        'cred': 'Gera_2022',\n        'hash': 0,\n        'user': 'gerasmurx@gmail.com'\n      }, {\n        headers: {\n          'accept': 'application/json;charset=utf-8',\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        store.commit('setUserData', response.data);\n        console.log(store.state.userData.idUser);\n        console.log(store.state.userData.jwt);\n      });\n    },\n    eliminarImagen: function (id) {\n      const url = `https://upload.qbits.mx/api/up/delete/${id}`;\n      const token = store.state.userData.jwt;\n      axios.delete(url, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(() => {\n        console.log(`Imagen con ID ${id} eliminada`);\n        // Actualizar la lista de imágenes después de eliminar la imagen\n        this.obtenerImagenes();\n      }).catch(error => {\n        console.log(`Error al eliminar la imagen con ID ${id}: ${error}`);\n      });\n    },\n    obtenerImagenes: function () {\n      axios.get('https://upload.qbits.mx/api/up/get-user-all-images/51').then(response => {\n        this.imagenes = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getImagenUrl: function (fullHttpUploadUrl) {\n      return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n    }\n  },\n  mounted: function () {\n    this.obtenerImagenes();\n  }\n};","map":{"version":3,"names":["axios","Footer2Component","store","props","data","dimg","idImg","methods","loggear","url","post","headers","then","response","commit","console","log","state","userData","idUser","jwt","eliminarImagen","id","token","delete","obtenerImagenes","catch","error","get","imagenes","getImagenUrl","fullHttpUploadUrl","mounted"],"sources":["/home/ubuntu/development/code/practica-vue/src/views/EditImagesView.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-dark bg-dark\">\n        <div class=\"container-fluid\">\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n        </div>\n    </nav>\n    <div class=\"fondo\">\n        <div class=\"pt-4\">\n            <h1>IMAGES</h1>\n        </div>\n        <div class=\"p-4\">\n            <div class=\"row gap-3\" >\n                <div class=\"col col-auto px-0\" v-for=\"imagen in imagenes\" :key=\"imagen.id\">\n                    <div class=\"card colorcard\" >\n                        <div class=\"position-relative\" >\n                            <img class=\"card-img-top p-2 imagen\" :src=\"getImagenUrl(imagen.fullHttpUploadUrl)\" alt=\"Imagen\">\n                            <button type=\"button\" class=\"btn btn-outline-primary boton\" @click=\"eliminarImagen(imagen.id)\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\"\n                                    class=\"bi bi-trash3-fill\" viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z\" />\n                                </svg>\n                            </button>\n                        </div>\n                        <div class=\"card-body\" style=\"text-align: center;\">\n                            <p class=\"card-title usuario\">User: {{ imagen.idUsuario}}</p>\n                            <p class=\"card-text name\">Name: {{ imagen.nombreOriginal}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <Footer2Component />\n</template>\n\n<script>\nimport axios from 'axios';\nimport Footer2Component from '@/components/Footer2Component.vue';\nimport store from '@/store'\n\n\nexport default {\n    \n  props: ['idImg'],\n  data: function () {\n    return {\n      dimg: this.idImg\n    }\n  },\n  methods: {\n    loggear: function() {\n      const url = \"https://access.qbits.mx/api/login\"\n      axios\n        .post(url, {\n          'cred': 'Gera_2022',\n          'hash': 0,\n          'user': 'gerasmurx@gmail.com'\n        }, {\n          headers: {\n            'accept': 'application/json;charset=utf-8',\n            'Content-Type': 'application/json'\n          }\n        })       \n        .then((response) => {\n          store.commit('setUserData', response.data)\n          console.log(store.state.userData.idUser)\n          console.log(store.state.userData.jwt)\n        })\n    },\n    eliminarImagen: function(id) {\n      const url = `https://upload.qbits.mx/api/up/delete/${id}`\n      const token = store.state.userData.jwt\n      axios\n        .delete(url, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        })\n        .then(() => {\n          console.log(`Imagen con ID ${id} eliminada`)\n          // Actualizar la lista de imágenes después de eliminar la imagen\n          this.obtenerImagenes()\n        })\n        .catch(error => {\n          console.log(`Error al eliminar la imagen con ID ${id}: ${error}`)\n        })\n    },\n    obtenerImagenes: function() {\n      axios\n        .get('https://upload.qbits.mx/api/up/get-user-all-images/51')\n        .then(response => {\n          this.imagenes = response.data;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    getImagenUrl: function(fullHttpUploadUrl) {\n      return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n    }\n  },\n  mounted: function() {\n    this.obtenerImagenes();\n  }\n}\n</script>\n\n<style>\n.fondo {\n    background: #288BA8;\n    padding: 20px;\n}\n\n.colorcard {\n    background: rgba(65, 65, 248, 0.164);\n}\n\n.boton {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    border-radius: 50%;\n    border: 2px solid red;\n    color: red;\n}\n\n.imagen {\n    border-radius: 20px;\n    border: none;\n    max-width: 200px;\n    max-height: 200px;\n    object-fit: cover;\n}\n.usuario{\n    color: blueviolet;\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    font-size: 12px;\n}\n.name{\n    color: black;\n    font-size: 12px;\n}\n</style>"],"mappings":"AAuCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,OAAOC,KAAI,MAAO,SAAQ;AAG1B,eAAe;EAEbC,KAAK,EAAE,CAAC,OAAO,CAAC;EAChBC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,OAAO;MACLC,IAAI,EAAE,IAAI,CAACC;IACb;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAO,EAAE,SAAAA,CAAA,EAAW;MAClB,MAAMC,GAAE,GAAI,mCAAkC;MAC9CT,KAAI,CACDU,IAAI,CAACD,GAAG,EAAE;QACT,MAAM,EAAE,WAAW;QACnB,MAAM,EAAE,CAAC;QACT,MAAM,EAAE;MACV,CAAC,EAAE;QACDE,OAAO,EAAE;UACP,QAAQ,EAAE,gCAAgC;UAC1C,cAAc,EAAE;QAClB;MACF,CAAC,EACAC,IAAI,CAAEC,QAAQ,IAAK;QAClBX,KAAK,CAACY,MAAM,CAAC,aAAa,EAAED,QAAQ,CAACT,IAAI;QACzCW,OAAO,CAACC,GAAG,CAACd,KAAK,CAACe,KAAK,CAACC,QAAQ,CAACC,MAAM;QACvCJ,OAAO,CAACC,GAAG,CAACd,KAAK,CAACe,KAAK,CAACC,QAAQ,CAACE,GAAG;MACtC,CAAC;IACL,CAAC;IACDC,cAAc,EAAE,SAAAA,CAASC,EAAE,EAAE;MAC3B,MAAMb,GAAE,GAAK,yCAAwCa,EAAG;MACxD,MAAMC,KAAI,GAAIrB,KAAK,CAACe,KAAK,CAACC,QAAQ,CAACE,GAAE;MACrCpB,KAAI,CACDwB,MAAM,CAACf,GAAG,EAAE;QACXE,OAAO,EAAE;UACP,eAAe,EAAG,UAASY,KAAM;QACnC;MACF,CAAC,EACAX,IAAI,CAAC,MAAM;QACVG,OAAO,CAACC,GAAG,CAAE,iBAAgBM,EAAE,YAAY;QAC3C;QACA,IAAI,CAACG,eAAe,EAAC;MACvB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdZ,OAAO,CAACC,GAAG,CAAE,sCAAqCM,EAAG,KAAIK,KAAM,EAAC;MAClE,CAAC;IACL,CAAC;IACDF,eAAe,EAAE,SAAAA,CAAA,EAAW;MAC1BzB,KAAI,CACD4B,GAAG,CAAC,uDAAuD,EAC3DhB,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACgB,QAAO,GAAIhB,QAAQ,CAACT,IAAI;MAC/B,CAAC,EACAsB,KAAK,CAACC,KAAI,IAAK;QACdZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDG,YAAY,EAAE,SAAAA,CAASC,iBAAiB,EAAE;MACxC,OAAQ,oCAAmCA,iBAAkB,EAAC;IAChE;EACF,CAAC;EACDC,OAAO,EAAE,SAAAA,CAAA,EAAW;IAClB,IAAI,CAACP,eAAe,EAAE;EACxB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}