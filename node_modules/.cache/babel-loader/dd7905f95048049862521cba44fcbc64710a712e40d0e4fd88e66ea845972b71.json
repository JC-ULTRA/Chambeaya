{"ast":null,"code":"import axios from 'axios';\nimport Footer2Component from '@/components/Footer2Component.vue';\nimport { createStore } from 'vuex';\nimport createPersistedState from \"vuex-persistedstate\";\nconst store = createStore({\n  state: {\n    toggleFooter: true,\n    toggleHeader: true,\n    toggleSidebar: true,\n    destination: '/',\n    nombreCompleto: '',\n    userData: {\n      idUser: 0,\n      nick: 'cyz',\n      email: '',\n      role: '',\n      lastSuccesfullAccess: '',\n      jwt: '',\n      usuarioDetalle: null,\n      jwt2: 'goose'\n    },\n    errorMsg: ''\n  },\n  getters: {\n    getJwt2(state) {\n      return state.userData.jwt2;\n    },\n    getjwt2(state) {\n      return state.userData.jwt2;\n    }\n  },\n  mutations: {\n    setJwt2(state, jwt2) {\n      state.userData.jwt2 = jwt2;\n    },\n    setUserData(state, data) {\n      state.userData = data;\n      state.userData.role = data.role != undefined ? data.role.toLowerCase() : '';\n    },\n    setDestination(state, destination) {\n      state.destination = destination;\n    },\n    setNombreCompleto(state, nombreCompleto) {\n      state.nombreCompleto = nombreCompleto;\n    },\n    deleteMedia(state, idMedia) {\n      const options = {\n        method: 'DELETE',\n        url: `https://upload.qbits.mx/api/up/delete-media/${idMedia}`,\n        headers: {\n          idMedia: idMedia,\n          IdUser: state.userData.idUser,\n          jwt: state.userData.jwt\n        }\n      };\n      axios.request(options).then(function (response) {\n        console.log(response.data);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  },\n  plugins: [createPersistedState()]\n});\nexport default {\n  components: {\n    Footer2Component\n  },\n  data() {\n    return {\n      imagenes: []\n    };\n  },\n  mounted() {\n    this.obtenerImagenes();\n  },\n  methods: {\n    obtenerImagenes() {\n      axios.get('https://upload.qbits.mx/api/up/get-user-all-images/51').then(response => {\n        this.imagenes = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getImagenUrl(fullHttpUploadUrl) {\n      return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n    },\n    eliminarImagen(id) {\n      axios.delete(`https://upload.qbits.mx/api/up/delete-media/${id}`).then(response => {\n        console.log(response);\n        // Actualizar la lista de imágenes después de la eliminación\n        this.obtenerImagenes();\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Footer2Component","createStore","createPersistedState","store","state","toggleFooter","toggleHeader","toggleSidebar","destination","nombreCompleto","userData","idUser","nick","email","role","lastSuccesfullAccess","jwt","usuarioDetalle","jwt2","errorMsg","getters","getJwt2","getjwt2","mutations","setJwt2","setUserData","data","undefined","toLowerCase","setDestination","setNombreCompleto","deleteMedia","idMedia","options","method","url","headers","IdUser","request","then","response","console","log","catch","error","plugins","components","imagenes","mounted","obtenerImagenes","methods","get","getImagenUrl","fullHttpUploadUrl","eliminarImagen","id","delete"],"sources":["/home/ubuntu/development/code/practica-vue/src/views/EditImagesView.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-dark bg-dark\">\n        <div class=\"container-fluid\">\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n        </div>\n    </nav>\n    <div class=\"fondo\">\n        <div class=\"pt-4\">\n            <h1>IMAGES</h1>\n        </div>\n        <div class=\"p-4\">\n            <div class=\"row gap-3\" >\n                <div class=\"col col-auto px-0\" v-for=\"imagen in imagenes\" :key=\"imagen.id\">\n                    <div class=\"card colorcard\" >\n                        <div class=\"position-relative\" >\n                            <img class=\"card-img-top p-2 imagen\" :src=\"getImagenUrl(imagen.fullHttpUploadUrl)\" alt=\"Imagen\">\n                            <button type=\"button\" class=\"btn btn-outline-primary boton\" @click=\"eliminarImagen(imagen.id)\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\"\n                                    class=\"bi bi-trash3-fill\" viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z\" />\n                                </svg>\n                            </button>\n                        </div>\n                        <div class=\"card-body\" style=\"text-align: center;\">\n                            <h5 class=\"card-title\"></h5>\n                            <p class=\"card-text\">Body</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <Footer2Component />\n</template>\n\n<script>\nimport axios from 'axios';\nimport Footer2Component from '@/components/Footer2Component.vue';\nimport { createStore } from 'vuex'\nimport createPersistedState from \"vuex-persistedstate\"\n\nconst store = createStore({\n  state: {\n    toggleFooter: true,\n    toggleHeader: true,\n    toggleSidebar: true,\n    destination: '/',\n    nombreCompleto: '',\n    userData: {\n      idUser: 0,\n      nick: 'cyz',\n      email: '',\n      role: '',\n      lastSuccesfullAccess: '',\n      jwt: '',\n      usuarioDetalle: null,\n      jwt2: 'goose'\n    },\n    errorMsg: ''    \n  },\n  getters: {\n    getJwt2 (state) {\n      return state.userData.jwt2\n    },\n    getjwt2(state){\n      return state.userData.jwt2\n    }\n  },\n  mutations: {\n    setJwt2(state, jwt2) {\n      state.userData.jwt2 = jwt2;\n    },\n    setUserData(state, data) {        \n      state.userData = data;\n      state.userData.role =  data.role != undefined ? data.role.toLowerCase():'';                \n    },\n    setDestination(state, destination) {\n      state.destination = destination;\n    },\n    setNombreCompleto(state, nombreCompleto) {\n      state.nombreCompleto = nombreCompleto;\n    },\n    deleteMedia(state, idMedia) {\n      const options = {\n        method: 'DELETE',\n        url: `https://upload.qbits.mx/api/up/delete-media/${idMedia}`,\n        headers: {\n          idMedia: idMedia,\n          IdUser: state.userData.idUser,\n          jwt: state.userData.jwt\n        }\n      };\n      axios.request(options).then(function (response) {\n        console.log(response.data);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  },\n  plugins: [createPersistedState()]\n})\n\n\n\n\nexport default {\n    components: {\n        Footer2Component,\n\n    },\n    data() {\n    return {\n      imagenes: []\n    }\n  },\n  mounted() {\n    this.obtenerImagenes();\n  },\n  methods: {\n    obtenerImagenes() {\n      axios.get('https://upload.qbits.mx/api/up/get-user-all-images/51')\n        .then(response => {\n          this.imagenes = response.data;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    getImagenUrl(fullHttpUploadUrl) {\n      return `https://media.visitanos.net/image${fullHttpUploadUrl}`;\n    },\n    eliminarImagen(id) {\n      axios.delete(`https://upload.qbits.mx/api/up/delete-media/${id}`)\n        .then(response => {\n          console.log(response);\n          // Actualizar la lista de imágenes después de la eliminación\n          this.obtenerImagenes();\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }\n}\n\n</script>\n\n<style>\n.fondo {\n    background: #288BA8;\n    padding: 20px;\n}\n\n.colorcard {\n    background: rgba(65, 65, 248, 0.164);\n}\n\n.boton {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    border-radius: 50%;\n    border: 2px solid red;\n    color: red;\n}\n\n.imagen {\n    border-radius: 20px;\n    border: none;\n    max-width: 200px;\n    max-height: 200px;\n    object-fit: cover;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}