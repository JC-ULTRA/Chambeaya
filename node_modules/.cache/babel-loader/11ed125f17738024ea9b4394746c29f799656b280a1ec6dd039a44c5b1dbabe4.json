{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"modalx-overlay\"\n};\nconst _hoisted_2 = {\n  class: \"modalx\"\n};\nconst _hoisted_3 = {\n  class: \"modal-headerX\"\n};\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"col\"\n};\nconst _hoisted_6 = {\n  class: \"img-cropper\"\n};\nconst _hoisted_7 = {\n  class: \"container bg-dark2 text-light toolSet\"\n};\nconst _hoisted_8 = {\n  class: \"tools\"\n};\nconst _hoisted_9 = {\n  class: \"d-flex\"\n};\nconst _hoisted_10 = {\n  class: \"icons\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search-plus\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = {\n  class: \"icons\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search-minus\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_15 = [_hoisted_14];\nconst _hoisted_16 = {\n  class: \"icons\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-redo\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_18 = [_hoisted_17];\nconst _hoisted_19 = {\n  class: \"icons\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-undo\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_21 = [_hoisted_20];\nconst _hoisted_22 = {\n  class: \"icons\"\n};\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-arrow-left\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_24 = [_hoisted_23];\nconst _hoisted_25 = {\n  class: \"icons\"\n};\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-arrow-right\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_27 = [_hoisted_26];\nconst _hoisted_28 = {\n  class: \"icons\"\n};\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-arrow-up\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_30 = [_hoisted_29];\nconst _hoisted_31 = {\n  class: \"icons\"\n};\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-arrow-down\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_33 = [_hoisted_32];\nconst _hoisted_34 = {\n  class: \"icons\"\n};\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-ruler-vertical\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_36 = [_hoisted_35];\nconst _hoisted_37 = {\n  class: \"icons\"\n};\nconst _hoisted_38 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-ruler-horizontal\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_39 = [_hoisted_38];\nconst _hoisted_40 = {\n  class: \"container justify-content-around p-2 bg-dark3\"\n};\nconst _hoisted_41 = {\n  class: \"row\"\n};\nconst _hoisted_42 = {\n  class: \"col\"\n};\nconst _hoisted_43 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-file\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_44 = {\n  class: \"row\"\n};\nconst _hoisted_45 = {\n  class: \"col\"\n};\nconst _hoisted_46 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-ruler\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_47 = {\n  class: \"row\"\n};\nconst _hoisted_48 = {\n  class: \"col\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vue_cropper = _resolveComponent(\"vue-cropper\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Modal for us to crop the given image \"), _createCommentVNode(\" TODO Make this componente reusable \"), _withDirectives(_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" Hidden input file chooser accepting only images. For example: jpg, png, etc\"), _createElementVNode(\"input\", {\n    style: {\n      \"display\": \"contents\",\n      \"background-color\": \"yellow\"\n    },\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.setImage && $options.setImage(...args)),\n    ref: \"fileInput\",\n    accept: \"image/*\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"a\", {\n    href: \"#\",\n    class: \"modal-header-close\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toogleVentana && $options.toogleVentana(...args))\n  }, \"X\")])])]), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" Cropper \"), _createVNode(_component_vue_cropper, {\n    ref: \"cropper\",\n    src: $data.selectedFile,\n    \"img-style\": {\n      width: 'auto',\n      height: '266'\n    },\n    aspectRatio: $props.aspRad\n  }, null, 8 /* PROPS */, [\"src\", \"aspectRatio\"]), _createCommentVNode(\" Toolbox \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers($event => $options.zoom(0.3), [\"prevent\"])),\n    title: \"zoom in\",\n    class: \"link\"\n  }, _hoisted_12)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers($event => $options.zoom(-0.3), [\"prevent\"])),\n    title: \"zoom out\",\n    class: \"link\"\n  }, _hoisted_15)]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers($event => $options.rotate(45), [\"prevent\"])),\n    title: \"rotate right\",\n    class: \"link\"\n  }, _hoisted_18)]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = _withModifiers($event => $options.rotate(-45), [\"prevent\"])),\n    title: \"rotate left\",\n    class: \"link\"\n  }, _hoisted_21)]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[6] || (_cache[6] = _withModifiers($event => $options.move(-10, 0), [\"prevent\"])),\n    title: \"move left\",\n    class: \"link\"\n  }, _hoisted_24)]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[7] || (_cache[7] = _withModifiers($event => $options.move(10, 0), [\"prevent\"])),\n    title: \"move right\",\n    class: \"link\"\n  }, _hoisted_27)]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[8] || (_cache[8] = _withModifiers($event => $options.move(0, -10), [\"prevent\"])),\n    title: \"move up\",\n    class: \"link\"\n  }, _hoisted_30)]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[9] || (_cache[9] = _withModifiers($event => $options.move(0, 10), [\"prevent\"])),\n    title: \"move down\",\n    class: \"link\"\n  }, _hoisted_33)]), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"a\", {\n    ref: \"flipX\",\n    href: \"#\",\n    onClick: _cache[10] || (_cache[10] = _withModifiers((...args) => $options.flipX && $options.flipX(...args), [\"prevent\"])),\n    title: \"flip vertical\",\n    class: \"link\"\n  }, _hoisted_36, 512 /* NEED_PATCH */)]), _createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"a\", {\n    ref: \"flipY\",\n    href: \"#\",\n    onClick: _cache[11] || (_cache[11] = _withModifiers((...args) => $options.flipY && $options.flipY(...args), [\"prevent\"])),\n    title: \"flip horizontal\",\n    class: \"link\"\n  }, _hoisted_39, 512 /* NEED_PATCH */)])])])]), _createCommentVNode(\" Messages \"), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"small\", null, [_hoisted_43, _createTextVNode(\" \" + _toDisplayString($data.fileName), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_44, [_createElementVNode(\"div\", _hoisted_45, [_createElementVNode(\"small\", null, [_hoisted_46, _createTextVNode(\" \" + _toDisplayString(Math.trunc($data.fileSize / 1024)) + \" kilo bytes\", 1 /* TEXT */)])])])])]), _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"button-selec\",\n    role: \"button\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.cropImage && $options.cropImage(...args))\n  }, \" Select \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"button-cancel\",\n    role: \"button\",\n    onClick: _cache[13] || (_cache[13] = (...args) => $options.cierraVentana && $options.cierraVentana(...args))\n  }, \" Cancel \")])])])], 512 /* NEED_PATCH */), [[_vShow, $data.muestra]])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_11","_hoisted_14","_hoisted_17","_hoisted_20","_hoisted_23","_hoisted_26","_hoisted_29","_hoisted_32","_hoisted_35","_hoisted_38","_createCommentVNode","_hoisted_1","style","type","onChange","_cache","args","$options","setImage","ref","accept","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","href","onClick","toogleVentana","_hoisted_6","_createVNode","_component_vue_cropper","src","$data","selectedFile","width","height","aspectRatio","$props","aspRad","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_withModifiers","$event","zoom","title","_hoisted_13","_hoisted_16","rotate","_hoisted_19","_hoisted_22","move","_hoisted_25","_hoisted_28","_hoisted_31","_hoisted_34","flipX","_hoisted_37","flipY","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_toDisplayString","fileName","_hoisted_44","_hoisted_45","_hoisted_46","Math","trunc","fileSize","_hoisted_47","_hoisted_48","role","cropImage","cierraVentana","muestra"],"sources":["/home/ubuntu/development/code/Proyecto Chambeaya/src/components/ImageCropper.vue"],"sourcesContent":["<template>\n    <!-- Modal for us to crop the given image -->\n    <!-- TODO Make this componente reusable -->\n    <div class=\"modalx-overlay\" v-show=\"muestra\">\n      <!-- Hidden input file chooser accepting only images. For example: jpg, png, etc-->\n      <input\n        style=\"display: contents; background-color: yellow\"\n        type=\"file\"\n        @change=\"setImage\"\n        ref=\"fileInput\"\n        accept=\"image/*\"\n      />\n  \n      <div class=\"modalx\">\n        <div class=\"modal-headerX\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <a href=\"#\" class=\"modal-header-close\" @click=\"toogleVentana\">X</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"img-cropper\">\n          <!-- Cropper -->\n          <vue-cropper\n            ref=\"cropper\"\n            :src=\"selectedFile\"\n            :img-style=\"{ width: 'auto', height: '266' }\"\n            :aspectRatio=\"aspRad\"\n          >\n          </vue-cropper>\n          <!-- Toolbox -->\n          <div class=\"container bg-dark2 text-light toolSet\">\n            <div class=\"tools\">\n              <div class=\"d-flex\">\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"zoom(0.3)\"\n                    title=\"zoom in\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-search-plus\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"zoom(-0.3)\"\n                    title=\"zoom out\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-search-minus\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"rotate(45)\"\n                    title=\"rotate right\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-redo\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"rotate(-45)\"\n                    title=\"rotate left\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-undo\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(-10, 0)\"\n                    title=\"move left\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(10, 0)\"\n                    title=\"move right\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(0, -10)\"\n                    title=\"move up\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"move(0, 10)\"\n                    title=\"move down\"\n                    class=\"link\"\n                  >\n                    <i class=\"fa fa-arrow-down\" aria-hidden=\"true\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    ref=\"flipX\"\n                    href=\"#\"\n                    @click.prevent=\"flipX\"\n                    title=\"flip vertical\"\n                    class=\"link\"\n                  >\n                    <i class=\"fas fa-ruler-vertical\"></i>\n                  </a>\n                </div>\n                <div class=\"icons\">\n                  <a\n                    ref=\"flipY\"\n                    href=\"#\"\n                    @click.prevent=\"flipY\"\n                    title=\"flip horizontal\"\n                    class=\"link\"\n                  >\n                    <i class=\"fas fa-ruler-horizontal\"></i>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- Messages -->\n          <div class=\"container justify-content-around p-2 bg-dark3\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <small><i class=\"fas fa-file\"></i> {{ fileName }}</small>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <small\n                  ><i class=\"fas fa-ruler\"></i>\n                  {{ Math.trunc(fileSize / 1024) }} kilo bytes</small\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col\">\n            <button\n              type=\"button\"\n              class=\"button-selec\"\n              role=\"button\"\n              @click=\"cropImage\" >\n              Select\n            </button>\n  \n            <button\n              type=\"button\"\n              class=\"button-cancel\"\n              role=\"button\"\n              @click=\"cierraVentana\" >\n              Cancel\n            </button>\n  \n          </div>\n        </div>\n      </div>\n  \n    </div>\n  </template>\n  \n  <script>\n  import def from \"@/assets/default.jpg\";\n  import VueCropper from \"vue-cropperjs\";\n  import \"cropperjs/dist/cropper.css\";\n  \n  export default {\n    props: [\"aspRad\"],\n    components: {\n      VueCropper\n    },\n    data() {\n      return {\n        profilePicture: def,\n        imageBlob: def,\n        selectedFile: def,\n        fileName: \"\",\n        fileNameBlob:def,\n        fileSize: 0,\n        ancho: 366,\n        alto: 266,\n        muestra: false,\n        isImage: false\n      };\n    },\n    methods: {\n      invalid(file) {\n        let kb = 1024;\n        this.fileName = file.name;\n        this.fileSize = file.size;\n        if (file.size < 16 || file.size > 9000 * kb) {\n          const msg = \"Sorry, image too small or image too large. Size detected: \" + file.size + \" bytes\"\n          this.$emit(\"img-error\", msg)\n          return true\n        }\n        //if(file.height<16 || file.height>8000*kb) return \"Image Height to big or image too small: \" + file.height\n        //if(file.width<16 || file.width>8000*kb) return \"Image Width to big or image too small: \" + file.width\n        this.detectMimeType(file)\n        if (!this.isImage) {\n          const msg = \"Sorry, this is not an image file :(\";\n          this.$emit(\"img-error\", msg)\n          return true\n        }\n        return false\n      },\n  \n  \n  /**\n   * Load the mime type based on the signature of the first bytes of the file\n   * @param  {File}   file        A instance of File\n   * @param  {Function} callback  Callback with the result\n   * @author Victor www.vitim.us\n   * @date   2017-03-23\n   */\n  loadMime(file, callback) {\n      //List of known mimes\n      var mimes = [\n          {\n              mime: 'image/jpeg',\n              pattern: [0xFF, 0xD8, 0xFF],\n              mask: [0xFF, 0xFF, 0xFF],\n          },\n          {\n              mime: 'image/png',\n              pattern: [0x89, 0x50, 0x4E, 0x47],\n              mask: [0xFF, 0xFF, 0xFF, 0xFF],\n          }\n          // you can expand this list @see https://mimesniff.spec.whatwg.org/#matching-an-image-type-pattern\n      ];\n  \n      function check(bytes, mime) {\n          for (var i = 0, l = mime.mask.length; i < l; ++i) {\n              if ((bytes[i] & mime.mask[i]) - mime.pattern[i] !== 0) {\n                  return false;\n              }\n          }\n          return true;\n      }\n  \n      var blob = file.slice(0, 4); //read the first 4 bytes of the file\n  \n      var reader = new FileReader();\n      reader.onloadend = function(e) {\n          if (e.target.readyState === FileReader.DONE) {\n              var bytes = new Uint8Array(e.target.result);\n  \n              for (var i=0, l = mimes.length; i<l; ++i) {\n                  if (check(bytes, mimes[i])) return callback(\"Mime: \" + mimes[i].mime + \" <br> Browser:\" + file.type);\n              }\n  \n              return callback(\"Mime: unknown <br> Browser:\" + file.type);\n          }\n      };\n      reader.readAsArrayBuffer(blob);\n  },\n  \n  \n      detectMimeType(imageFile) {\n        console.log(imageFile.name)\n        var b = imageFile.name.includes('.png') || \n                imageFile.name.includes('.jpg') || \n                imageFile.name.includes('.jpeg') || \n                imageFile.name.includes('.webp')\n        if(imageFile.name.length>0) {\n          this.isImage = b\n          return;\n        }\n  \n        // The previous code is because the following didn't work:\n        const reader = new FileReader()\n        reader.readAsDataURL(imageFile)\n        reader.onload = (eee) => {\n          this.isImage = eee.explicitOriginalTarget.result.includes(\"image\")\n        }\n        reader.onloadend = (eee) => {\n          this.isImage = eee.explicitOriginalTarget.result.includes(\"image\")\n          /** /\n          var file = tempo\n            var arr = (new Uint8Array(file)).subarray(0, 4);\n            var header = \"\";\n            for(var i = 0; i < arr.length; i++) {\n              header += arr[i].toString(16);\n            }\n            console.log(header)\n            return this.getMimeType(header);\n          };\n          /**/ \n          //return tempo   \n        }   \n        //return tempo\n  \n  \n  \n  //  function convertImageToBase64Async(imagUrl) {\n  //     return new Promise(resovle => convertImageToBase64(imgUrl, resolve))\n  //  } \n  // https://levelup.gitconnected.com/how-to-convert-image-to-base64-by-javascript-d110556de37f\n  \n  /*\n  \n  function convertImageToBase64(imgUrl, callback) {\n    const image = new Image();\n    image.crossOrigin='anonymous';\n    image.onload = () => {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      canvas.height = image.naturalHeight;\n      canvas.width = image.naturalWidth;\n      ctx.drawImage(image, 0, 0);\n      const dataUrl = canvas.toDataURL();\n      callback && callback(dataUrl)\n    }\n    image.src = imgUrl;\n  }\n  \n  */\n      },\n      setImage(e) {     \n        const file = e.target.files[0];\n        if (this.invalid(file)) {\n          return\n        }\n        this.fileNameBlob= file.name;\n        if (typeof FileReader === \"function\") {\n          const reader = new FileReader()\n          reader.readAsDataURL(file)\n          reader.onload = (e) => {\n            this.$refs.cropper.replace(e.target.result)\n          };\n          reader.onloadend = (f) => {\n            this.toogleVentana();\n            this.selectedFile = f.target.result\n          };\n        } else {\n          var msg = \"Sorry, FileReader API not supported\"\n          this.$emit(\"img-error\", msg)\n        }\n      },\n      setImageDrag(ggg) {\n        if (this.invalid(ggg)) {\n          return false\n        }\n        /**/\n        this.fileNameBlob = ggg.name;      \n        if (typeof FileReader === \"function\") {\n          const reader = new FileReader()\n          reader.readAsDataURL(ggg)\n          reader.onload = (eee) => {\n            this.$refs.cropper.replace(eee.target.result)\n          };\n          reader.onloadend = (fff) => {\n            this.toogleVentana();\n            this.selectedFile = fff.target.result\n          };\n        } else {\n          var msg = \"Sorry, FileReader API not supported\"\n          this.$emit(\"img-error\", msg)\n        }\n        return true\n        /**/\n      },\n      getMimeType(header) {\n        switch (header) {\n          case \"89504e47\":\n            return \"image/png\";\n          case \"47494638\":\n            return \"image/gif\";\n          case \"ffd8ffe0\":\n          case \"ffd8ffe1\":\n          case \"ffd8ffe2\":\n          case \"ffd8ffe3\":\n          case \"ffd8ffe8\":\n            return \"image/jpeg\";\n          default:\n            return \"unknown\";\n        }\n      },\n      fireChooser() {\n        this.$refs.fileInput.value = \"\";\n        this.$refs.fileInput.click();\n      },\n      flipX() {\n        const dom = this.$refs.flipX;\n        let scale = dom.getAttribute(\"data-scale\");\n        scale = scale ? -scale : -1;\n        this.$refs.cropper.scaleX(scale);\n        dom.setAttribute(\"data-scale\", scale);\n      },\n      flipY() {\n        const dom = this.$refs.flipY;\n        let scale = dom.getAttribute(\"data-scale\");\n        scale = scale ? -scale : -1;\n        this.$refs.cropper.scaleY(scale);\n        dom.setAttribute(\"data-scale\", scale);\n      },\n      rotate(deg) {\n        this.$refs.cropper.rotate(deg);\n      },\n      move(offsetX, offsetY) {\n        this.$refs.cropper.move(offsetX, offsetY);\n      },\n      zoom(percent) {\n        this.$refs.cropper.relativeZoom(percent);\n      },\n      cropImage() {      \n        this.profilePicture = this.$refs.cropper\n          .getCroppedCanvas()\n          .toDataURL(\"image/jpeg\");\n        this.$refs.cropper.getCroppedCanvas().toBlob((b) => {\n          this.imageBlob = b;\n          this.imageBlob.name = this.fileNameBlob;                      \n          this.procesaImagen(this.profilePicture, this.imageBlob);\n          this.toogleVentana();\n        });\n      },\n      procesaImagen(img, imgBlob) {\n        // enviando la imagen al padre:\n        this.$emit(\"procesa-imagen\", img, imgBlob);\n  \n        // pero aqui también se podría simplemente invocar al axios de guardado\n        // algo asi como lo siguiente:\n        //      let result = uploadComponent.uploadImage('/api/upload', img); // internamente, es un axcios call\n        //      if (result.length>0) message(result)\n        //console.log(test.pba())\n      }, // para este método, podría haber una propiedad que indique si hacer lo primero, lo segundo o ambos\n      toogleVentana() {\n        // cancelar el procesamiento de la imagen cada vez que la ventana cambie: x = !x\n        this.muestra = !this.muestra;\n        this.cancelaImagen();      \n      },\n      cancelaImagen() {      \n        this.$emit(\"cancela-imagen\");\n      },\n      cierraVentana() {\n        // cuando la ventana se cierre avisar via el método \"cancela-en-el-hijo\"\n        this.muestra = false;\n        this.$emit(\"cancela-en-el-hijo\");    \n      },    \n    },\n  };\n  </script>\n  \n   <style scaoped>\n  .close {\n    text-align: right !important;\n    margin-right: 10px;\n  }\n  .izquierda {\n    text-align: left !important;\n    margin-left: 10px;\n  }\n  .croppedImage {\n    display: block;\n    width: 200px;\n    height: auto;\n  }\n  #black-label {\n    color: #fff;\n    font-size: 0.7em;\n  }\n  .close {\n    margin: 10% 0 0 16px;\n    cursor: pointer;\n  }\n  .link {\n    color: green;\n  }\n  .link:hover {\n    color: red;\n  }\n  .bg-dark2 {\n    background-color: #ccc;\n  }\n  .bg-dark3 {\n    background-color: #fff;\n  }\n  .foto {\n    position: relative;\n    background-color: #ff0000;\n    display: inline-block;\n    text-align: center;\n    border-radius: 50%;\n    overflow: hidden;\n    transition: transform 0.2s;\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px,\n      rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n  }\n  .foto:hover {\n    transform: scale(1.1);\n  }\n  .modalx-overlay {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    background-color: #000000da;\n  }\n  .modalx {\n    background-color: white;\n    height: 500px;\n    width: 500px;\n    margin-top: 10%;\n    padding: 10px 0;\n    border-radius: 6px;\n  }\n  .buttonX {\n    background-color: #0a0a23;\n    color: #fff;\n    border: none;\n    border-radius: 10px;\n    padding: 3px;\n    min-height: 30px;\n    min-width: 120px;\n    cursor: pointer;\n  }\n  .buttonX:hover {\n    background-color: #002ead;\n    transition: 0.7s;\n  }\n  \n  .modal-header-close {\n    text-decoration: none;\n    font-weight: bold;\n    color: #ff0000;\n    padding-top: 45px;\n  }\n  .modal-header-close:hover {\n    text-decoration: none;\n    color: #ff0000;\n  }\n  .modal-headerX {\n    text-align: right;\n    height: 40px;\n  }\n  .icons {\n    margin: 8px;\n  }\n  \n  .button-selec {\n    appearance: none;\n    background-color: #2ea44f;\n    border: 1px solid rgba(27, 31, 35, 0.15);\n    border-radius: 6px;\n    box-shadow: rgba(27, 31, 35, 0.1) 0 1px 0;\n    box-sizing: border-box;\n    color: #fff;\n    cursor: pointer;\n    display: inline-block;\n    font-family: -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 20px;\n    padding: 6px 16px;\n    position: relative;\n    text-align: center;\n    text-decoration: none;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    vertical-align: middle;\n    white-space: nowrap;\n    margin: 10px;\n  }\n  \n  .button-selec:focus:not(:focus-visible):not(.focus-visible) {\n    box-shadow: none;\n    outline: none;\n  }\n  \n  .button-selec:hover {\n    background-color: #2c974b;\n  }\n  \n  .button-selec:focus {\n    box-shadow: rgba(46, 164, 79, 0.4) 0 0 0 3px;\n    outline: none;\n  }\n  \n  .button-selec:disabled {\n    background-color: #94d3a2;\n    border-color: rgba(27, 31, 35, 0.1);\n    color: rgba(255, 255, 255, 0.8);\n    cursor: default;\n  }\n  \n  .button-selec:active {\n    background-color: #298e46;\n    box-shadow: rgba(20, 70, 32, 0.2) 0 1px 0 inset;\n  }\n  \n  .space {\n    padding: 8px;\n  }\n  \n  .button-cancel {\n    appearance: none;\n    background-color: #dc3545;\n    border: 1px solid rgba(27, 31, 35, 0.15);\n    border-radius: 6px;\n    box-shadow: rgba(27, 31, 35, 0.1) 0 1px 0;\n    box-sizing: border-box;\n    color: #fff;\n    cursor: pointer;\n    display: inline-block;\n    font-family: -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 20px;\n    padding: 6px 16px;\n    position: relative;\n    text-align: center;\n    text-decoration: none;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  \n  .button-cancel:focus:not(:focus-visible):not(.focus-visible) {\n    box-shadow: none;\n    outline: none;\n  }\n  \n  .button-cancel:hover {\n    background-color: #dc3545;\n  }\n  \n  .button-cancel:focus {\n    box-shadow: rgba(46, 164, 79, 0.4) 0 0 0 3px;\n    outline: none;\n  }\n  \n  .button-cancel:disabled {\n    background-color: #dc3545;\n    border-color: rgba(27, 31, 35, 0.1);\n    color: rgba(255, 255, 255, 0.8);\n    cursor: default;\n  }\n  \n  .button-cancel:active {\n    background-color: #dc3545;\n    box-shadow: rgba(20, 70, 32, 0.2) 0 1px 0 inset;\n  }\n  \n  .tools {\n    display: flex;\n    justify-content: center;\n  }\n  </style>\n  \n  \n  \n  \n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}